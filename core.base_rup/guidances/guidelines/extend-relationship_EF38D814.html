<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" lang="ru" xml:lang="ru">
<head>
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Рекомендация: Отношение расширения</title>
<meta content="Guideline" name="uma.type">
<meta content="extend-relationship" name="uma.name">
<meta content="Отношение расширения" name="uma.presentationName">
<meta name="element_type" content="other">
<meta content="description" name="filetype">
<meta name="role" content="">
<link type="text/css" href="./../../../css/default.css" rel="StyleSheet">
<script language="JavaScript" type="text/javascript" src="./../../../scripts/ContentPageResource.js"></script><script language="JavaScript" type="text/javascript" src="./../../../scripts/ContentPageSection.js"></script><script language="JavaScript" type="text/javascript" src="./../../../scripts/ContentPageSubSection.js"></script><script language="JavaScript" type="text/javascript" src="./../../../scripts/ContentPageToolbar.js"></script><script language="JavaScript" type="text/javascript" src="./../../../scripts/contentPage.js"></script><script language="JavaScript" type="text/javascript">
					var backPath = './../../../';
					var imgPath = './../../../images/';
					var nodeInfo=[{view: "view:_bbrmwN7BEdmsEI4YDGX2ag", path: ["_bbrmwN7BEdmsEI4YDGX2ag", "_jD8dUAIbEdqEutyfYo0quQ", "_2ClPcDIcEdqDs_9ORT1Rig", "3.679940320411645E-305"]}];
					contentPage.preload(imgPath, backPath, nodeInfo,  '', false, false, false);
				</script>
</head>
<body>
<div id="breadcrumbs"></div>
<table width="100%" cellspacing="0" cellpadding="0" border="0">
<tr>
<td valign="top"><a name="Top"></a>
<div id="page-guid" value="3.679940320411645E-305"></div>
<table width="100%" cellpadding="0" cellspacing="0" border="0">
<tr>
<td nowrap="true" class="pageTitle">Рекомендация: Отношение расширения</td><td width="100%">
<div id="contentPageToolbar" align="right"></div>
</td>
</tr>
</table>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
<td class="pageTitleSeparator"><img height="1" title="" alt="" src="./../../../images/shim.gif"></td>
</tr>
</table>
<div class="overview">
<table cellpadding="0" cellspacing="0" border="0" width="97%">
<tr>
<td width="50"><img title="" alt="" src="./../../../images/guidance.gif"></td><td>
<table cellpadding="0" cellspacing="0" border="0" class="overviewTable">
<tr>
<td valign="top">Отношение расширения связывает расширяемый вариант использования с базовым вариантом использования. В этой рекомендации описываются способы работы с этим отношением.</td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<div class="sectionHeading">Взаимосвязи</div>
<div class="sectionContent">
<table cellpadding="0" cellspacing="0" border="0" class="sectionTable">
<tr valign="top">
<th scope="row" class="sectionTableHeading">Связанные элементы</th><td class="sectionTableCell">
<ul>
<li>
<a href="./../../../core.base_rup/workproducts/rup_usecase_model_EF15E534.html" guid="{9C66F2EC-EDEB-4369-9AFB-04B9E7CBCB8E}">Модель прецедентов</a>
</li>
<li>
<a href="./../../../core.base_rup/tasks/structure_use_case_model_93D8F44.html" guid="{F7D9D038-B184-43CC-9353-15BA154F87B5}">Создайте структуру модели вариантов использования</a>
</li>
</ul>
</td>
</tr>
</table>
</div>
<div class="sectionHeading">Основное описание</div>
<div class="sectionContent">
<table cellpadding="0" cellspacing="0" border="0" class="sectionTable">
<tr valign="top">
<td class="sectionTableSingleCell"><a id="Top" name="Top"></a><a id="XE_extend-relationship__guidelines_for" name="XE_extend-relationship__guidelines_for"></a> 
<h3>
    <a id="Explanation" name="Explanation">Объяснение</a>
</h3>
<p>
    Отношение расширения связывает расширяемый вариант использования с базовым вариантом использования. Определите, в какую
    область базы будет добавлено расширение, с помощью ссылок на точки расширения в базовом варианте использования (см.
    описание точек расширения в разделе <a class="elementLinkWithUserText" href="./../../../core.base_rup/guidances/guidelines/use_case_CC89870D.html" guid="4.1983217662266927E-305">Рекомендация по
    рабочему продукту: Вариант использования</a>). Обычно (но не всегда) расширяемый вариант использования носит
    абстрактный характер.
</p>
<p>
    Расширения можно использовать для следующих целей:
</p>
<ul>
    <li>
        Для того чтобы показать, что часть варианта использования является или может являться дополнительным сегментом
        поведения системы. Таким образом можно отделить дополнительные функции модели от обязательных.
    </li>
    <li>
        Для того чтобы показать, что поток операций выполняется только при определенных (иногда исключительных) условиях,
        например, при возникновении исключительной ситуации.
    </li>
    <li>
        Для того чтобы показать, что возможно существуют сегменты поведения, которые (один или несколько) можно добавить в
        точку расширения базового варианта использования. Выбор сегментов и последовательность их добавления зависят от
        взаимодействия с субъектами в процессе выполнения базового варианта использования.
    </li>
</ul>
<p>
    Расширение носит условный характер. Это означает, что его выполнение зависит от того, какие операции были проведены в
    процессе выполнения базового варианта использования. Базовый вариант использования не контролирует наличие условий для
    выполнения расширения. Эти условия описаны в рамках отношения расширения. Расширяемый вариант использования имеет
    доступ к атрибутам базового варианта использования и может их изменять. Однако базовый вариант использования не имеет
    доступа к расширениям и их атрибутам.
</p>
<p>
    Расширения подспудно изменяют базовый вариант использования. Можно сказать, что базовый вариант использования
    предоставляет модульную среду, куда можно добавлять расширения. Однако он не обладает никакой информацией об этих
    расширениях.
</p>
<p>
    Базовый вариант использования должен быть полными и завершенным. Это значит, что он должен иметь смысл и без ссылок на
    расширения. Однако базовый вариант использования зависит от расширений, потому что он не может выполняться без
    возможности следовать расширениям.
</p>
<h5>
    Пример:
</h5>
<p class="example" align="center">
    <img height="186" alt="Диаграмма, описанная в тексте." src="./../../../core.base_rup/guidances/guidelines/resources/extend1.gif" width="300" />
</p>
<p class="picturetext">
    Варианты использования Начать конференц-звонок и Показать профайл абонента - расширения базового варианта использования
    Позвонить.
</p>
<p class="example">
    Основная услуга телефонной связи представлена вариантом использования Позвонить. Примеры дополнительных услуг:
</p>
<ul>
    <li>
        <p class="example">
            Добавление в разговор третьего лица (Начать конференц-звонок).
        </p>
    </li>
    <li>
        <p class="example">
            Просмотр принимающим абонентов личных данных вызывающего абонента (Показать профайл абонента).
        </p>
    </li>
</ul>
<p class="example">
    Сегменты поведения, необходимые для этих дополнительных услуг, можно представить как расширяемые варианты использования
    для базового варианта использования Позвонить. Вот правильный способ применения отношения расширения: поскольку вариант
    использования Позвонить имеет смысл сам по себе, то для понимания первичной цели базового варианта использования не
    нужно считывать описания расширяемых вариантов использования, и расширяемые варианты использования носят необязательный
    характер.
</p>
<p>
    Если для базового варианта использования и варианта использования "база плюс расширение" нужно намеренно создавать
    экземпляры или если дополнение должно изменять базовый вариант использования, следует применить обобщение вариантов
    использования (см. раздел <a class="elementLinkWithUserText" href="./../../../core.base_rup/guidances/guidelines/use-case_generalization_B301F53B.html" guid="3.7061366529594173E-305">Рекомендация по рабочему продукту: Обобщение вариантов использования</a>).
</p>
<p>
    Расширяемый вариант использования может состоять из одного или нескольких расширяемых сегментов, каждый из которых
    может иметь альтернативные пути. Эти сегменты поэтапно изменяют поведение базового варианта использования. Каждый такой
    сегмент расширяемого варианта использования можно добавить в отдельную точку базового варианта использования. Это
    значит, что отношение расширения содержит список ссылок на точки расширения, число которых равно числу расширяемых
    сегментов расширяемого варианта использования. Каждая точка расширения должна быть описана в базовом варианте
    использования.
</p>
<p>
    Один базовый вариант использования состоит их нескольких отношений расширения. Это значит, что экземпляр варианта
    использования за время жизненного цикла может следовать более чем одному расширению. Расширяемый вариант использования
    можно распространить на несколько базовых вариантов использования, но это не влечет возникновения зависимости между
    этими базовыми вариантами использования. Между одними и теми же расширяемым и базовым вариантами использования может
    возникнуть несколько отношений расширения при условии, что расширение добавлено в разные точки базового варианта
    использования. Это значит, что разные отношения расширения должны ссылаться на разные точки расширения в базовом
    варианте использования. Расширяемый вариант использования сам может выступать как базовый вариант использования для
    создания отношений расширения, включения или обобщения. Например, расширяемый вариант использования может расширять
    другой расширяемый вариант использования, в результате чего они будут вложены друг в друга.
</p>
<h3>
    <a id="Executing the Extension" name="Executing the Extension">Выполнение расширения</a>
</h3>
<p>
    Когда в процессе выполнения базового варианта использования экземпляр варианта использования достигает точки
    расширения, производится оценка условия выполнения отношения расширения. Если условие верно или отсутствует, экземпляр
    варианта использования будет следовать расширению (или расширяемому сегменту, который соответствует этой точке
    расширения). Если условие неверно, расширение не выполняется.
</p>
<p>
    Расширяемый вариант использования может, как и другие варианты использования, иметь основной и дополнительные потоки
    операций (см. раздел <a class="elementLinkWithUserText" href="./../../../core.base_rup/guidances/guidelines/use_case_CC89870D.html" guid="4.1983217662266927E-305">Рекомендация по
    рабочему продукту: Вариант использования</a>, где приведено описание структуры потока операций). Выбор пути, которому
    будет следовать экземпляр варианта использования при выполнении расширения, зависит от того, какие операции были
    выполнены до расширения (состояние экземпляра варианта использования) и какие операции выполняются при взаимодействии с
    субъектами при выполнении расширения. После выполнения расширения экземпляр варианта использования возвращается к
    выполнению базового варианта использования с того этапа, на котором он остановился.
</p>
<p align="center">
    <img height="224" alt="Диаграмма, описанная в тексте." src="./../../../core.base_rup/guidances/guidelines/resources/extend2.gif" width="312" />
</p>
<p class="picturetext">
    Экземпляр варианта использования, выполняющий базовый вариант использования и его расширения.
</p>
<p>
    В расширяемом варианте использования может быть один или несколько расширяемых сегментов, каждый из которых связан со
    своей точкой расширения в базовом варианте использования. В этом случае экземпляр варианта использования возвращается к
    базовому варианту использования и продолжает его выполнение до следующей точки расширения, указанной в отношении
    расширения. По достижении точки расширения он выполняет следующий сегмент расширяемого варианта использования. Эта
    процедура повторяется, пока не будет выполнен последний расширяемый сегмент. Обратите внимание, что условие выполнения
    расширения проверяется только на первой точке расширения. Если условие верно, экземпляр варианта использования должен
    выполнить все последующие расширяемые сегменты.
</p>
<p align="center">
    <img height="224" alt="Диаграмма, описанная в тексте." src="./../../../core.base_rup/guidances/guidelines/resources/extend3.gif" width="317" />
</p>
<p class="picturetext">
    Экземпляр варианта использования, выполняющий базовый вариант использования; расширяемый вариант использования с двумя
    расширяемыми сегментами.
</p>
<p>
    Множественность отношения расширения позволяет ограничить число потенциальных повторений всего расширения. Обратите
    внимание, что повторяется (и ограничивается множественностью) полностью все расширение, а не отдельный расширяемый
    сегмент.
</p>
<h3>
    <a id="Documenting the Extend-Relationship" name="Documenting the Extend-Relationship">Документальное оформление
    отношения расширения</a> <a href="#Top"><img height="20" alt="Начало страницы" src="./../../../core.base_rup/resources/top.gif"     width="26" border="0" /></a>
</h3>
<p>
    Составьте описание условия расширения на основе атрибутов базового варианта использования. Это условие можно опустить,
    и тогда расширение будет выполняться всегда.
</p>
<p>
    В каждом отношении расширения есть список ссылок на одну или несколько точек расширения в базовом варианте
    использования. Каждая ссылка указывает на имя точки расширения. Если в расширяемом варианте использования существует
    несколько расширяемых сегментов, нужно указать, какой сегмент соответствует какой точке расширения. Также нужно
    указать, какие шаги или потоки операций расширяемого варианта использования составляют каждый из расширяемых сегментов.
</p>
<h5>
    Пример:
</h5>
<p class="example">
    В системе телефонной связи вариант использования Позвонить может иметь абстрактное расширение Показать профайл
    абонента. Это дополнительная услуга, часто называемая "ИД абонента". Принимающий абонент может заказать ее по желанию.
    Ниже приведено описание отношения расширения между вариантами использования Показать профайл абонента и Позвонить:
</p>
<p class="example">
    <b>Условие:</b> Принимающий абонент должен заранее заказать услугу "ИД абонента".
</p>
<p class="example">
    <b>Точки расширения (одна или несколько):</b> Показать профайл - добавить полностью вариант использования Показать
    профайл абонента.
</p>
<p>
    Можно создать несколько экземпляров отношения расширения (создать множественность). Если множественность не задана, она
    считается равной единице.
</p>
<h3>
    <a id="Example of Use" name="Example of Use">Пример использования</a>
</h3>
<p>
    Рассмотрим следующую простую систему телефонной связи:
</p>
<p align="center">
    <img height="182" alt="Диаграмма, описанная в тексте." src="./../../../core.base_rup/guidances/guidelines/resources/extend4.gif" width="271" />
</p>
<p class="picturetext" align="center">
    Абстрактный вариант использования Начать конференц-звонок - это расширение варианта использования Позвонить.
</p>
<p>
    В этой модели простое описание обычной телефонной связи и основных телефонных услуг представлено в варианте
    использования Позвонить. Обычно события развиваются в следующем порядке:
</p>
<ol>
    <li>
        Вызывающий абонент поднимает трубку.
    </li>
    <li>
        Система активирует звуковой сигнал (непрерывный гудок).
    </li>
    <li>
        Вызывающий абонент набирает первую цифру телефонного номера.
    </li>
    <li>
        Система выключает непрерывный гудок.
    </li>
    <li>
        Вызывающий абонент вводит остальные цифры номера.
    </li>
    <li>
        Система анализирует введенный телефонный номер, определяет в сети адрес принимающего абонента.
    </li>
    <li>
        Система анализирует номер и определяет расположение принимающего абонента в сети.
    </li>
    <li>
        Система определяет, можно ли установить виртуальную цепь с принимающим абонентом.
    </li>
    <li>
        Если цепь можно установить, система звонит принимающему абоненту и активирует звонок его телефонного аппарата.
    </li>
    <li>
        После того как принимающий абонент ответил, система отключает звонок его телефонного аппарата, прекращает звонить и
        замыкает цепь.
    </li>
    <li>
        Система начинает запись данных: времени начала и конца разговора, а также сведений о звонившем абоненте.
    </li>
    <li>
        Разговор длится какое-то время. Когда звонивший или принимающий абонент кладет трубку, система записывает время
        окончания разговора и снимает блокировку с ресурсов, необходимых для установления виртуальной цепи. На этом вариант
        использования заканчивается.
    </li>
</ol>
<p>
    Для того чтобы вызывающий или принимающий абонент могли добавлять к разговору третье лицо (начинать конференц-звонок),
    необходимо добавить дополнительные действия в поток операций. Один из способов (рекомендуемый) - внести изменения
    напрямую в вариант использования Позвонить. Это можно сделать с помощью альтернативного потока операций, как описано в
    разделе <a class="elementLinkWithUserText" href="./../../../core.base_rup/guidances/guidelines/use_case_CC89870D.html" guid="4.1983217662266927E-305">Рекомендация по рабочему продукту: Вариант использования</a>. Этот способ хорош для
    большинства простых дополнений, когда добавленные функции не искажают начальное значение варианта использования. Второй
    способ - выделить различия в абстрактный расширяемый вариант использования Начать конференц-звонок, который расширяет
    базовый вариант использования.
</p>
<p>
    Вариант использования Позвонить получит следующее дополнение:
</p>
<blockquote>
    <p>
        <b><u>Точки расширения:<br />
        </u> Конференц-звонок</b> выполняется после шага 11.
    </p>
</blockquote>
<p>
    Ниже приведено описание расширяемого варианта использования Начать конференц-звонок:
</p>
<blockquote>
    <p>
        <b><u>Вариант использования Начать конференц-звонок<br />
        </u></b> Этот вариант использования расширяет вариант использования Позвонить&nbsp;Он добавляется в точку
        расширения Конференц-звонок.<br />
         <u>Основной поток операций:<br />
        </u> 1. Вызывающий абонент поднимает трубку.<br />
         2. В качестве подтверждения система дает три коротких сигнала.<br />
         3...12&lt;Эти шаги совпадают с шагами 3-12 базового варианта использования&gt;<br />
         13. Вызывающий абонент вновь подключается к принимающему абоненту с помощью варианта использования Позвонить.
    </p>
</blockquote>
<p>
    Совпадение шагов с 3 по 12 с базовым вариантом использования нежелательно. &nbsp;Для избежания этого можно выделить
    общее поведение во включаемый вариант использования (см. раздел <a class="elementLinkWithUserText" href="./../../../core.base_rup/guidances/guidelines/include-relationship_5AE2718.html" guid="7.259881398615376E-305">Рекомендация
    по рабочему продукту: Отношение включения</a>).
</p><br />
<br /></td>
</tr>
</table>
</div>
<table cellpadding="0" cellspacing="0" border="0" class="copyright">
<tr>
<td class="copyright"><p>
    &copy; &nbsp;Copyright IBM Corp.&nbsp;1987, 2006. &nbsp;Все права защищены..
</p></td>
</tr>
</table>
</td>
</tr>
</table>
</body>
<script language="JavaScript" type="text/javascript">
				contentPage.onload();
			</script>
</html>
