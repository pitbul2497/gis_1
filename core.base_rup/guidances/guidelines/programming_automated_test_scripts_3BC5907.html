<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" lang="ru" xml:lang="ru">
<head>
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Рекомендация: Создание автоматизированных тестовых сценариев</title>
<meta content="Guideline" name="uma.type">
<meta content="programming_automated_test_scripts" name="uma.name">
<meta content="Создание автоматизированных тестовых сценариев" name="uma.presentationName">
<meta name="element_type" content="other">
<meta content="description" name="filetype">
<meta name="role" content="">
<link type="text/css" href="./../../../css/default.css" rel="StyleSheet">
<script language="JavaScript" type="text/javascript" src="./../../../scripts/ContentPageResource.js"></script><script language="JavaScript" type="text/javascript" src="./../../../scripts/ContentPageSection.js"></script><script language="JavaScript" type="text/javascript" src="./../../../scripts/ContentPageSubSection.js"></script><script language="JavaScript" type="text/javascript" src="./../../../scripts/ContentPageToolbar.js"></script><script language="JavaScript" type="text/javascript" src="./../../../scripts/contentPage.js"></script><script language="JavaScript" type="text/javascript">
					var backPath = './../../../';
					var imgPath = './../../../images/';
					var nodeInfo=[{view: "view:_bbrmwN7BEdmsEI4YDGX2ag", path: ["_bbrmwN7BEdmsEI4YDGX2ag", "_jD8dUAIbEdqEutyfYo0quQ", "_2ClPcDIcEdqDs_9ORT1Rig", "6.202272769754314E-305"]}];
					contentPage.preload(imgPath, backPath, nodeInfo,  '', false, false, false);
				</script>
</head>
<body>
<div id="breadcrumbs"></div>
<table width="100%" cellspacing="0" cellpadding="0" border="0">
<tr>
<td valign="top"><a name="Top"></a>
<div id="page-guid" value="6.202272769754314E-305"></div>
<table width="100%" cellpadding="0" cellspacing="0" border="0">
<tr>
<td nowrap="true" class="pageTitle">Рекомендация: Создание автоматизированных тестовых сценариев</td><td width="100%">
<div id="contentPageToolbar" align="right"></div>
</td>
</tr>
</table>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
<td class="pageTitleSeparator"><img height="1" title="" alt="" src="./../../../images/shim.gif"></td>
</tr>
</table>
<div class="overview">
<table cellpadding="0" cellspacing="0" border="0" width="97%">
<tr>
<td width="50"><img title="" alt="" src="./../../../images/guidance.gif"></td><td>
<table cellpadding="0" cellspacing="0" border="0" class="overviewTable">
<tr>
<td valign="top">Рекомендации по эффективной разработке автоматизированных тестовых сценариев.</td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<div class="sectionHeading">Взаимосвязи</div>
<div class="sectionContent">
<table cellpadding="0" cellspacing="0" border="0" class="sectionTable">
<tr valign="top">
<th scope="row" class="sectionTableHeading">Связанные элементы</th><td class="sectionTableCell">
<ul>
<li>
<a href="./../../../core.base_rup/workproducts/rup_test_script_2140080.html" guid="{293A9F23-BB20-4993-AABE-76C1E8E1A589}">Сценарий тестирования</a>
</li>
</ul>
</td>
</tr>
</table>
</div>
<div class="sectionHeading">Основное описание</div>
<div class="sectionContent">
<table cellpadding="0" cellspacing="0" border="0" class="sectionTable">
<tr valign="top">
<td class="sectionTableSingleCell"><a id="Top" name="Top"></a><a id="XE_test_script__guidelines_for" name="XE_test_script__guidelines_for"></a> 
<h3>
    <a id="StructureOfTestScripts" name="StructureOfTestScripts">Структура тестовых сценариев</a>
</h3>
<p>
    Для упрощения сопровождения теста и повторного использования их кода следует с самого начала структурировать их. Скорей
    всего вы найдете общие части кода в нескольких (если не всех) сценариях. Такие части нужно идентифицировать и сделать
    общими.
</p>
<p>
    Например, вы можете сопровождать тестовые сценарии, проверяющие выполнение разных последовательностей действий по
    отношению к записям. Это могут быть комбинации добавления, изменения и удаления записей:
</p>
<ul>
    <li>
        Добавление, изменение, удаление (самая очевидная комбинация)
    </li>
    <li>
        Добавление, удаление, изменение
    </li>
    <li>
        Добавление, удаление, Добавление, удаление, ...
    </li>
    <li>
        Добавление, добавление, добавление, ...
    </li>
</ul>
<p>
    Идентификация и реализация этих действий в виде отдельных тестовых сценариев, к которым будут обращаться остальные,
    позволит увеличить уровень повторного использования кода.
</p>
<p>
    Другой целью структуризации тестовых сценариев является простая локализация и контроль изменений в них при внесении
    изменений в тестируемое ПО. Иными словами, тестовые сценарии должны быть более устойчивыми к изменениям в целевом ПО.
    Например, предположим, что был изменен код входа в систему. Из всех тестовых наборов, выполняющих вход в систему,
    перестать работать должен только тест самой функции входа в систему.
</p>
<h3>
    <a id="RecordingTechnique" name="RecordingTechnique">Методика записи сценариев</a> <a id="XE_recording_techniques_for_test_scripts" name="XE_recording_techniques_for_test_scripts"></a><a id="XE_test_script__recording_techniques" name="XE_test_script__recording_techniques"></a>
</h3>
<p>
    Для упрощение сопровождения тестовых сценариев старайтесь, чтобы они были наименее уязвимы к "улучшающим" изменениям в
    целевом ПО. Например, если сценарий заполняет поля окна диалога, то перемещаться между полями можно одним из следующих
    способов:
</p>
<ul>
    <li>
        С помощью клавиши TAB
    </li>
    <li>
        С помощью клавиши мыши
    </li>
    <li>
        С помощью клавиш быстрого доступа
    </li>
</ul>
<p>
    У каждого из этих вариантов разная устойчивость к изменениям. Например, после вставки нового поля между двумя другими
    перестанет работать вариант с TAB. После переназначения клавиш быстрого доступа перестанет работать третий вариант.
    Если способ определения поля, указываемого мышью, будет изменяться, то и второй метод не подходит. Некоторые
    инструменты автоматизации тестирования позволяют идентифицировать поля более надежными способами, например, по имени
    объекта, присваиваемого инструментов разработки (PowerBuilder, SQLWindows или Visual Basic). В этом случае тестовые
    сценарии будут продолжать работать после внесения небольших изменений в тестируемое ПО (как-то: изменение расположения
    элементов, текста меток, оформления и т.д.)
</p>
<h3>
    <a id="Data-DrivenTesting" name="Data-DrivenTesting">Ориентация тестов на данные</a> <a id="XE_data-driven_testing" name="XE_data-driven_testing"></a><a id="XE_test_script__data-driven_testing" name="XE_test_script__data-driven_testing"></a>
</h3>
<p>
    Во многих тестах, для проверки поведения при разных условиях, соответствующие этим условиям данные вводятся в поля на
    экране. Процедура ввода данных - одна и та же, меняются только данные. Поэтому, вместо записи теста отдельного для
    каждого набора данных, можно записать один тест, а потом копировать его, изменяя только вводимые данные. Например,
    такой "эталонный" тест можно использовать для всех наборов данных, приводящих к одной и той же ошибке (недопустимые
    данные). Можно модифицировать сценарий так, чтобы вводимые данные брались из файла или другого внешнего источника,
    после чего запускать сценарий в цикле для каждого набора данных.
</p>
<p>
    Если выбран такой подход, необходимо условиться о формате входных данных. Обычно каждый набор записывается в виде
    строки значений полей через запятую. Такой формат прост в интерпретации сценариями и сопровождении людьми.
</p>
<p>
    Почти все СУБД и программы электронных таблиц предоставляют возможность экспорта данных в такой формат. Поэтому их
    можно использовать для организации и сбора тестовых данных. Во-первых, они предоставляют более удобную среды для ввода
    и изменения данных чем обычный текстовый редактор. Во-вторых, с их же помощью можно обращаться к существующим базам
    данных, что может быть полезно если наборы данных уже имеются во внешних источниках.
</p>
<h3>
    <a id="ErrorHandling" name="ErrorHandling">Обработка ошибок</a> <a id="XE_error_handling__in_testing" name="XE_error_handling__in_testing"></a>
</h3>
<p>
    Тестовые сценарии выполняются последовательно. Ветвление в явной форме не поддерживается. Для явной обработки ошибок в
    сценариях необходима дополнительная логика. Например:
</p>
<ul>
    <li>
        Переход к другим сценариям.
    </li>
    <li>
        Вызов сценария, устраняющего возможные последствия ошибки.
    </li>
    <li>
        Выход из сценария и запуск следующего.
    </li>
    <li>
        Выход из сценария, перезапуск тестируемого ПО и продолжение с места последней ошибки.
    </li>
</ul>
<p>
    Для каждого из вариантов требуется добавление соответствующей логики в сценарий. Если это возможно, эта логика должна
    встраиваться в высокоуровневые сценарии, управляющие сценариями низкого уровня. Благодаря этому отпадет необходимость
    ручной правки низкоуровневых сценариев после их записи.
</p>
<h3>
    <a id="TestScriptSynchronizationAndScheduling" name="TestScriptSynchronizationAndScheduling">Синхронизация и
    планирование сценариев</a> <a id="XE_test_script__synchronization_and_scheduling_of" name="XE_test_script__synchronization_and_scheduling_of"></a>
</h3>
<p>
    Для тестирования отказоустойчивости необходима синхронизация сценариев, их запуск в точно определенное время. Для этого
    требуемое время сравнивается с системным. В распределенных системах необходимо предварительно, по сети,
    синхронизировать часы каждой тестовой станции. В следующем примере (из сценария на BASIC) выполнение сценария
    задерживается до наступления заданного времени.
</p>
<p class="example">
    <code>InputFile$ = "TIME.DAT"<br />
     Open InputFile$ For Input As 1<br />
     Input #1, StartTime$<br />
     Close #1<br />
     Do While TimeValue(StartTime$) &gt; Time<br />
     &nbsp;&nbsp;&nbsp;DoEvents<br />
     Loop</code><br />
     [запуск сценария]
</p>
<p>
    В этом примере время запуска задается в файле. Это позволяет изменять время без надобности разбираться в сценарии.
    Время сохраняется в переменной <code>StartTime$</code>. Цикл <code>Do While</code> выполняется до наступления заданного
    времени. Благодаря оператору <code>DoEvents</code> процессорное время может расходоваться на фоновые задачи. Без этого
    оператора система не реагировала бы на действия пользователя до наступления времени запуска.
</p>
<h3>
    <a id="TestingAndDebuggingTestScripts" name="TestingAndDebuggingTestScripts">Тестирование и отладка тестовых
    сценариев</a> <a id="XE_test_script__testing_and_debugging_test_scripts" name="XE_test_script__testing_and_debugging_test_scripts"></a>
</h3>
<p>
    При выполнении тестовых сценариев на том же ПО, на котором они были записаны, ошибок (в самих сценариях) возникать не
    должно. Среда и ПО такие же, как и во время записи. Однако при их смене тест может стать работать некорректно. Для
    выявления таких возможных неполадок перед использованием сценариев для реального тестирования нужно тестировать их
    самих. Далее рассматриваются два вида неполадок:
</p>
<ul>
    <li>
        Неоднозначность способов выделения элементов интерфейса. Например, если элементы различаются по их тексту, не
        исключена ситуация, когда в них будет один и тот же текст. Это приведет к неоднозначности при выполнении сценария.
    </li>
    <li>
        Записываются динамические внутренние данные, такие как указатели, текущее время и другие данные, генерируемые
        системой заново при каждом запуске программы.
    </li>
</ul>
<p>
    Разница во времени записи и воспроизведения может привести к неполадкам. Запись сценария происходит медленнее, чем
    выполнение. Иногда это может привести к тому, что ПО просто не будет успевать выполнять команды сценария. Для избежания
    этого можно вставлять в сценарии операторы ожидания.
</p><br />
<br /></td>
</tr>
</table>
</div>
<table cellpadding="0" cellspacing="0" border="0" class="copyright">
<tr>
<td class="copyright"><p>
    &copy; &nbsp;Copyright IBM Corp.&nbsp;1987, 2006. &nbsp;Все права защищены..
</p></td>
</tr>
</table>
</td>
</tr>
</table>
</body>
<script language="JavaScript" type="text/javascript">
				contentPage.onload();
			</script>
</html>
