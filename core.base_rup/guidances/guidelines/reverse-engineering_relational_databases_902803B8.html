<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" lang="ru" xml:lang="ru">
<head>
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Рекомендация: Обратное проектирование реляционных баз данных</title>
<meta content="Guideline" name="uma.type">
<meta content="reverse-engineering_relational_databases" name="uma.name">
<meta content="Обратное проектирование реляционных баз данных" name="uma.presentationName">
<meta name="element_type" content="other">
<meta content="description" name="filetype">
<meta name="role" content="">
<link type="text/css" href="./../../../css/default.css" rel="StyleSheet">
<script language="JavaScript" type="text/javascript" src="./../../../scripts/ContentPageResource.js"></script><script language="JavaScript" type="text/javascript" src="./../../../scripts/ContentPageSection.js"></script><script language="JavaScript" type="text/javascript" src="./../../../scripts/ContentPageSubSection.js"></script><script language="JavaScript" type="text/javascript" src="./../../../scripts/ContentPageToolbar.js"></script><script language="JavaScript" type="text/javascript" src="./../../../scripts/contentPage.js"></script><script language="JavaScript" type="text/javascript">
					var backPath = './../../../';
					var imgPath = './../../../images/';
					var nodeInfo=[{view: "view:_bbrmwN7BEdmsEI4YDGX2ag", path: ["_bbrmwN7BEdmsEI4YDGX2ag", "_jD8dUAIbEdqEutyfYo0quQ", "_2ClPcDIcEdqDs_9ORT1Rig", "1.338740134620651E-305"]}];
					contentPage.preload(imgPath, backPath, nodeInfo,  '', false, false, false);
				</script>
</head>
<body>
<div id="breadcrumbs"></div>
<table width="100%" cellspacing="0" cellpadding="0" border="0">
<tr>
<td valign="top"><a name="Top"></a>
<div id="page-guid" value="1.338740134620651E-305"></div>
<table width="100%" cellpadding="0" cellspacing="0" border="0">
<tr>
<td nowrap="true" class="pageTitle">Рекомендация: Обратное проектирование реляционных баз данных</td><td width="100%">
<div id="contentPageToolbar" align="right"></div>
</td>
</tr>
</table>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
<td class="pageTitleSeparator"><img height="1" title="" alt="" src="./../../../images/shim.gif"></td>
</tr>
</table>
<div class="overview">
<table cellpadding="0" cellspacing="0" border="0" width="97%">
<tr>
<td width="50"><img title="" alt="" src="./../../../images/guidance.gif"></td><td>
<table cellpadding="0" cellspacing="0" border="0" class="overviewTable">
<tr>
<td valign="top">Описание этапов обратного проектирования базы данных и связи получившихся таблиц модели данных с классами модели проектирования.</td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<div class="sectionHeading">Взаимосвязи</div>
<div class="sectionContent">
<table cellpadding="0" cellspacing="0" border="0" class="sectionTable">
<tr valign="top">
<th scope="row" class="sectionTableHeading">Связанные элементы</th><td class="sectionTableCell">
<ul>
<li>
<a href="./../../../core.base_rup/workproducts/rup_data_model_65B46980.html" guid="{9DCF1723-1A21-4F48-BEDE-DBC543489682}">Модель данных</a>
</li>
</ul>
</td>
</tr>
</table>
</div>
<div class="sectionHeading">Основное описание</div>
<div class="sectionContent">
<table cellpadding="0" cellspacing="0" border="0" class="sectionTable">
<tr valign="top">
<td class="sectionTableSingleCell"><a id="Top" name="Top"></a><a id="XE_relational_databases__reverse_engineering" name="XE_relational_databases__reverse_engineering"></a><a id="XE_design_model__reverse-engineering_relational_databases" name="XE_design_model__reverse-engineering_relational_databases"></a><a id="XE_data_model__reverse-engineering_relational_databases" name="XE_data_model__reverse-engineering_relational_databases"></a> 
<h3>
    <a id="Introduction" name="Introduction">Введение</a>
</h3>
<p>
    Далее описываются действия, необходимые для выполнения обратного проектирования базы данных и связывания получившихся
    таблиц <a class="elementLinkWithUserText" href="./../../../core.base_rup/workproducts/rup_data_model_65B46980.html" guid="{9DCF1723-1A21-4F48-BEDE-DBC543489682}">модели данных</a> с <a class="elementLinkWithUserText" href="./../../../core.base_rup/workproducts/rup_design_class_B33BD5E5.html" guid="{952A9CE9-D5A3-43AC-980D-0B9298F3872E}">проектируемыми классами</a> <a class="elementLinkWithUserText" href="./../../../core.base_rup/workproducts/rup_design_model_2830034D.html" guid="{8CDAEAD4-5E84-4F50-87FD-3240ED047DE7}">модели
    проектирования</a>.&nbsp;Эти действия могут выполняться <a class="elementLinkWithUserText" href="./../../../core.base_rup/roles/rup_database_designer_524DC34F.html" guid="{87EE3BF5-17CA-4211-BD3D-32F361E58550}">проектировщиком баз данных</a> в начале внесения изменений в базу данных
    в рамках цикла эволюционной разработки. Дизайнер баз данных должен управлять обратной проектированием на протяжении
    всего жизненного цикла проекта.&nbsp;В многих случаях обратное проектирование выполняется на ранних стадиях жизненного
    цикла проекта, а затем изменения вносятся инкрементально без потребности в по следующем обратном проектировании базы
    данных.
</p>
<p>
    Основные этапы обратного проектирования базы данных и преобразования получившихся элементов модели данных в элементы
    модели проектирования:
</p>
<ul>
    <li>
        Создание физической модели данных с таблицами, представляющими физическую схему данных, хранящихся в базе
        данных.&nbsp;Этот этап может выполняться автоматически средствами, поставляемыми с Relational Database Management
        System (RDBMS) или современными средствами визуального моделирования.
    </li>
    <li>
        Преобразование таблиц физической модели данных в классы модели проектирования.&nbsp;Для выполнения этого этапа
        сначала используются специальные средства автоматизации, а затем производится ручная корректировка.
    </li>
    <li>
        Определение связей между классами в модели проектирования.
    </li>
    <li>
        Определение подходящих операций в классах модели проектирования на основе действий, выполняемых над
        соответствующими элементами модели данных.
    </li>
    <li>
        Организация классов модели проектирования подсистемы и пакеты (при необходимости).
    </li>
</ul>
<h3>
    <a id="Reverse Engineering RDBMS Database or DDL script to Generate a Data Model" name="Reverse Engineering RDBMS Database or DDL script to Generate a Data Model">Обратное проектирование базы данных
    RDBMS или сценария DDL для получения модели данных</a>
</h3>
<p>
    Результатом обратного проектирования базы данных или сценария на языке определения данных (Data Definition Language -
    DDL) обычно является набор элементов модели (таблиц, представлений, хранимых процедур и т.д.). В зависимости от
    сложности базы данных может потребоваться разделить полученные элементы модели на пакеты, содержащие логически
    связанные наборы таблиц.
</p>
<h3>
    <a id="Transforming Data Model to Design Model" name="Transforming Data Model to Design Model">Преобразование модели
    данных в модель проектирования</a>
</h3>
<p>
    Далее приводятся инструкции по генерированию классов проектирования на основе элементов модели данных. Репликация
    структуры базы данных в модели классов выполняется относительно просто. Инструкции, приведенные ниже, содержат алгоритм
    преобразования элементов модели данных в элементов модели проектирования.
</p>
<p>
    В следующей таблице дается сводка общего соответствия элементов моделей данных и проектирования.
</p>
<div align="center">
    <table     style="BORDER-RIGHT: rgb(128,128,128) 1px solid; BORDER-TOP: rgb(128,128,128) 1px solid; BORDER-LEFT: rgb(128,128,128) 1px solid; BORDER-BOTTOM: rgb(128,128,128) 1px solid"      cellspacing="0" bordercolordark="#808080" cellpadding="4" width="85%" bordercolorlight="#808080" border="1">
        <tbody>
            <tr>
                <th scope="col" width="50%">
                    <p class="Text">
                        <b>Элемент модели данных</b>&nbsp;
                    </p>
                </th>
                <th scope="col" width="50%">
                    <p class="Text">
                        <b>Соответствующий элемент модели проектирования</b>&nbsp;
                    </p>
                </th>
            </tr>
            <tr>
                <td width="50%">
                    Таблица&nbsp;
                </td>
                <td width="50%">
                    <a class="elementLinkWithUserText" href="./../../../core.base_rup/workproducts/rup_design_class_B33BD5E5.html" guid="{952A9CE9-D5A3-43AC-980D-0B9298F3872E}">Класс</a>&nbsp;
                </td>
            </tr>
            <tr>
                <td width="50%">
                    Столбец&nbsp;
                </td>
                <td width="50%">
                    Атрибут&nbsp;
                </td>
            </tr>
            <tr>
                <td width="50%">
                    <p class="Text">
                        Неидентифицирующая взаимосвязь&nbsp;
                    </p>
                </td>
                <td width="50%">
                    <p class="Text">
                        <a class="elementLinkWithUserText" href="./../../../core.base_rup/guidances/guidelines/association_98710829.html" guid="5.540135518285335E-305">Ассоциация</a>&nbsp;
                    </p>
                </td>
            </tr>
            <tr>
                <td width="50%">
                    <p class="Text">
                        Таблица пересечений
                    </p>&nbsp;
                </td>
                <td width="50%">
                    <p class="Text">
                        Класс ассоциации
                    </p>
                    <p class="Text">
                        Ассоциация "многие-ко-многим"
                    </p>
                    <p class="Text">
                        Полная ассоциация&nbsp;
                    </p>
                </td>
            </tr>
            <tr>
                <td width="50%">
                    <p class="Text">
                        Идентифицирующая взаимосвязь&nbsp;
                    </p>
                </td>
                <td width="50%">
                    <p class="Text">
                        <a class="elementLinkWithUserText" href="./../../../core.base_rup/guidances/guidelines/aggregation_A53E33AB.html" guid="1.1538495077622037E-304">Агрегирование</a>&nbsp;
                    </p>
                </td>
            </tr>
            <tr>
                <td width="50%">
                    <p class="Text">
                        Кардинальное число&nbsp;
                    </p>&nbsp;
                </td>
                <td width="50%">
                    <p class="Text">
                        Множественность&nbsp;
                    </p>&nbsp;
                </td>
            </tr>
            <tr>
                <td width="50%">
                    Контрольное ограничение с перечислением&nbsp;
                </td>
                <td width="50%">
                    Класс &lt;&lt;ENUM&gt;&gt;&nbsp;
                </td>
            </tr>
            <tr>
                <td width="50%">
                    Схема&nbsp;
                </td>
                <td width="50%">
                    <a class="elementLinkWithUserText" href="./../../../core.base_rup/workproducts/rup_design_package_8376BC8E.html" guid="{80CC5437-F481-487B-A69B-957D9D236D8D}">Пакет</a>&nbsp;
                </td>
            </tr>
        </tbody>
    </table><br />
</div>
<p>
    Некоторым элементам модели данных нельзя четко противопоставить элемент модели проектирования. Примерами таких
    элементов являются табличное пространство и собственно база данных, соответствующие физическим параметрам хранения и
    представляемые в качестве компонентов. Другим таким элементом являются представления базы данных, фактически являющиеся
    "виртуальными" таблицами и не имеющих смысловой нагрузки в модели проектирования.&nbsp; Кроме того, это индексы и
    первичные ключи таблиц и триггеров, используемые для оптимизации работы СУБД и имеющие смысловое значение только в
    контексте базы данных и модели данных.
</p>
<h4>
    <a id="Transform a Table to a Class" name="Transform a Table to a Class">Преобразование таблицы в класс</a>
</h4>
<p>
    Создайте класс для каждой преобразовываемой таблицы. Для каждого столбца таблицы создайте в классе атрибут с
    соответствующим типом. Попытайтесь найти самое близкое соответствие между типами атрибутов и типами полей таблицы.
</p>
<p class="exampleheading">
    Пример
</p>
<p class="example">
    Рассмотрим таблицу <b>Customer</b>, имеющую следующую структуру:
</p>
<div align="center">
    <table     style="BORDER-RIGHT: rgb(128,128,128) 1px solid; BORDER-TOP: rgb(128,128,128) 1px solid; BORDER-LEFT: rgb(128,128,128) 1px solid; BORDER-BOTTOM: rgb(128,128,128) 1px solid"      cellspacing="0" bordercolordark="#808080" cellpadding="4" width="40%" bordercolorlight="#808080" border="1">
        <tbody>
            <tr>
                <th headers="col" width="55%">
                    <u><b>Имя столбца</b></u>
                </th>
                <th headers="col" width="45%">
                    <u><b>Тип данных</b></u>
                </th>
            </tr>
            <tr>
                <td width="55%">
                    Customer_ID
                </td>
                <td width="45%">
                    Number
                </td>
            </tr>
            <tr>
                <td width="55%">
                    Name
                </td>
                <td width="45%">
                    Varchar
                </td>
            </tr>
            <tr>
                <td width="55%">
                    Street
                </td>
                <td width="45%">
                    Varchar
                </td>
            </tr>
            <tr>
                <td width="55%">
                    City
                </td>
                <td width="45%">
                    Varchar
                </td>
            </tr>
            <tr>
                <td width="55%">
                    State/Province
                </td>
                <td width="45%">
                    Char(2)
                </td>
            </tr>
            <tr>
                <td width="55%">
                    Zip/Postal Code
                </td>
                <td width="45%">
                    Varchar
                </td>
            </tr>
            <tr>
                <td width="55%">
                    Country
                </td>
                <td width="45%">
                    Varchar
                </td>
            </tr>
        </tbody>
    </table><br />
</div>
<p class="picturetext">
    Структура таблицы <b>Customer</b>
</p>
<p class="example">
    Для таблицы создается класс с таким же именем, <b>Customer</b>, имеющий следующую структуру:
</p>
<p class="example" align="center">
    <img height="154" alt="Определение класса Customer" src="./../../../core.base_rup/guidances/guidelines/resources/rdb-oo1.gif" width="147" />
</p>
<p class="picturetext">
    Первоначальная версия класса <b>Customer</b>
</p>
<p class="example">
    В первой версии класса <b>Customer</b> для каждого столбца таблицы <b>Customer</b> в нем присутствует соответствующий
    атрибут. Область видимости всех таких атрибутов - <b>public</b>, т.к. возможен запрос к любому столбцу таблицы.
</p>
<p class="example">
    Значок в виде знака "+" слева от атрибута означает, что область видимости последнего - 'public'. По умолчанию все
    атрибуты, получаемые при преобразовании таблиц RDBMS, должны быть общедоступными, так как в RDBMS разрешено делать
    запросы ко всем столбцам.
</p>
<h3>
    <a id="Identify Embedded or Implicit Classes" name="Identify Embedded or Implicit Classes">Идентификация внутренних и
    неявных классов</a>
</h3>
<p>
    Классы, получающиеся в результате прямого преобразования "таблица - класс", часто содержат атрибуты, которые могут быть
    выделены в отдельный класс, особенно в случаях, когда эти атрибуты присутствуют в нескольких сгенерированных классах.
    Такие "общие" атрибуты обычно появляются в результате денормализации таблиц для улучшения производительности, или как
    следствие слишком упрощенной модели данных. В таких случаях разделите класс таким образом, чтобы он являл собой
    нормализованное представление таблиц.
</p>
<p class="exampleheading">
    Пример
</p>
<p class="example">
    После определения класса <b>Customer</b> можно определить класс <b>Address</b>, содержащий информацию об адресах
    (предположив, что в системе будут другие ссылки на адреса). Таким образом, получаем два класса:
</p>
<p class="example" align="center">
    <img height="150" alt="Диаграмма описана в сопровождающем тексте." src="./../../../core.base_rup/guidances/guidelines/resources/rdb-oo2.gif" width="433" />
</p>
<p class="picturetext">
    Класс <b>Customer</b> после выделения из него класса <b>Address</b>
</p>
<p class="example">
    Тип связи между этими элементами - <b>агрегирование</b>, т.к. один адрес принадлежит только одному клиенту и
    следовательно <b>является</b> частью полного определения заказчика.
</p>
<h3>
    <a id="Handle Foreign-Key Relationships" name="Handle Foreign-Key Relationships">Внешние ключи</a>
</h3>
<p>
    Создайте ассоциацию между классами для каждой связи по внешнему ключу в таблице. Удалите атрибут из класса,
    ссылающегося на столбец внешнего ключа. Если столбец внешнего ключа изначально представлялся в виде атрибута, удалите
    его из класса.
</p>
<p class="exampleheading">
    Пример
</p>
<p class="example">
    Предположим, что таблица <b>Order</b> имеет следующую структуру:
</p>
<div align="center">
    <table     style="BORDER-RIGHT: rgb(128,128,128) 1px solid; BORDER-TOP: rgb(128,128,128) 1px solid; BORDER-LEFT: rgb(128,128,128) 1px solid; BORDER-BOTTOM: rgb(128,128,128) 1px solid"      cellspacing="0" bordercolordark="#808080" cellpadding="4" width="35%" bordercolorlight="#808080" border="1">
        <tbody>
            <tr>
                <th scope="col" width="50%">
                    <u><b>Имя столбца&nbsp;</b></u>
                </th>
                <th scope="col" width="50%">
                    <u><b>Тип данных&nbsp;</b></u>
                </th>
            </tr>
            <tr>
                <td width="50%">
                    Number&nbsp;
                </td>
                <td width="50%">
                    Number&nbsp;
                </td>
            </tr>
            <tr>
                <td width="50%">
                    Customer_ID&nbsp;
                </td>
                <td width="50%">
                    Varchar&nbsp;
                </td>
            </tr>
        </tbody>
    </table><br />
</div>
<p class="picturetext">
    Структура таблицы <b>Order</b>
</p>
<p class="example">
    В таблице <b>Order</b> столбец <b>Customer_ID</b> является <b>внешним ключом</b>. Он содержит первичный ключ таблицы
    Customer, связывающий ее с Order. Это представляется в модели проектирования следующим образом:
</p>
<p class="example" align="center">
    <img height="209" alt="Диаграмма UML, описанная ниже." src="./../../../core.base_rup/guidances/guidelines/resources/rdb-oo3.gif" width="156" />
</p>
<p class="picturetext">
    Представление связей через внешние ключи в модели проектирования
</p>
<p class="example">
    Внешний ключ представляется в виде ассоциации между классами <b>Order</b> и <b>Item</b>.
</p>
<h3>
    <a id="Handle Many-to-Many Relationships" name="Handle Many-to-Many Relationships">Отношение "многие-ко-многим"</a>
</h3>
<p>
    В моделях данных RDBMS отношения "многие-ко-многим" представляются <b>таблицей объединения</b> (join table), или
    <b>таблицей связей</b> (association table). Таким образом, отношения "многие-ко-многим" представляются с помощью
    вспомогательных таблиц с первичными ключами двух объединяемых таблиц. Такие вспомогательные таблицы нужны из-за того,
    что поле внешнего ключа может содержать только один первичный ключ. Если одна запись связана с несколькими записями в
    другой таблице, и наоборот, то возникает необходимость в таблице связей.
</p>
<p class="exampleheading">
    Пример
</p>
<p class="example">
    Рассмотрим случай <b>продуктов</b>, которые могут поставляться любым из <b>поставщиков</b>. <b>Поставщик</b> может
    заниматься несколькими <b>продуктами</b>. Структура таблиц <b>Product</b> и <b>Supplier</b>:
</p>
<div align="center">
    <table cellspacing="0" cellpadding="0" width="85%" border="0">
        <tbody>
            <tr>
                <td valign="top" align="middle">
                    <table                     style="BORDER-RIGHT: rgb(128,128,128) 1px solid; BORDER-TOP: rgb(128,128,128) 1px solid; BORDER-LEFT: rgb(128,128,128) 1px solid; BORDER-BOTTOM: rgb(128,128,128) 1px solid"                      cellspacing="0" bordercolordark="#808080" cellpadding="4" width="300" bordercolorlight="#808080"                     border="1">
                        <caption>
                            Таблица Product
                        </caption>
                        <tbody>
                            <tr>
                                <th scope="col" width="50%">
                                    <u><b>Имя столбца</b></u>
                                </th>
                                <th scope="col" width="50%">
                                    <u><b>Тип данных</b></u>
                                </th>
                            </tr>
                            <tr>
                                <td width="20%">
                                    Product_ID
                                </td>
                                <td width="20%">
                                    Number
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">
                                    Name
                                </td>
                                <td width="20%">
                                    Varchar
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">
                                    Описание
                                </td>
                                <td width="20%">
                                    Varchar
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">
                                    Price
                                </td>
                                <td width="20%">
                                    Number
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </td>
                <td valign="top" align="middle">
                    <table                     style="BORDER-RIGHT: rgb(128,128,128) 1px solid; BORDER-TOP: rgb(128,128,128) 1px solid; BORDER-LEFT: rgb(128,128,128) 1px solid; BORDER-BOTTOM: rgb(128,128,128) 1px solid"                      cellspacing="0" bordercolordark="#808080" cellpadding="4" width="300" bordercolorlight="#808080"                     border="1">
                        <caption>
                            Таблица Supplier
                        </caption>
                        <tbody>
                            <tr>
                                <th scope="col" width="50%">
                                    <u><b>Имя столбца</b></u>
                                </th>
                                <th scope="col" width="50%">
                                    <u><b>Тип данных</b></u>
                                </th>
                            </tr>
                            <tr>
                                <td width="20%">
                                    Supplier_ID
                                </td>
                                <td width="20%">
                                    Number
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">
                                    Name
                                </td>
                                <td width="20%">
                                    Varchar
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">
                                    Street
                                </td>
                                <td width="20%">
                                    Varchar
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">
                                    City
                                </td>
                                <td width="20%">
                                    Varchar
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">
                                    State/Province
                                </td>
                                <td width="20%">
                                    Char(2)
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">
                                    Zip/Postal Code
                                </td>
                                <td width="20%">
                                    Varchar
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">
                                    Country
                                </td>
                                <td width="20%">
                                    Varchar
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </td>
            </tr>
        </tbody>
    </table><br />
</div>
<p class="picturetext">
    Структура таблиц Product и Supplier
</p>
<p class="example" align="left">
    Для связи этих таблиц в целях поиска продуктов, доступных у заданного поставщика используется таблица
    <b>Product-Supplier</b>.
</p>
<div align="center">
    <table     style="BORDER-RIGHT: rgb(128,128,128) 1px solid; BORDER-TOP: rgb(128,128,128) 1px solid; BORDER-LEFT: rgb(128,128,128) 1px solid; BORDER-BOTTOM: rgb(128,128,128) 1px solid"      cellspacing="0" bordercolordark="#808080" cellpadding="4" width="45%" bordercolorlight="#808080" border="1">
        <tbody>
            <tr>
                <th id="col1" align="middle" width="100%" colspan="2">
                    <b>Таблица Product-Supplier</b>
                </th>
            </tr>
            <tr>
                <td headers="col1" width="60%">
                    <u><b>Имя столбца&nbsp;</b></u>
                </td>
                <td headers="col1" width="40%">
                    <u><b>Тип данных&nbsp;</b></u>
                </td>
            </tr>
            <tr>
                <td headers="col1" width="60%">
                    Product_ID&nbsp;
                </td>
                <td headers="col1" width="40%">
                    Number&nbsp;
                </td>
            </tr>
            <tr>
                <td headers="col1" width="60%">
                    Supplier_ID&nbsp;
                </td>
                <td headers="col1" width="40%">
                    Number&nbsp;
                </td>
            </tr>
        </tbody>
    </table><br />
</div>
<p class="picturetext">
    Структура таблицы Product-Supplier
</p>
<p class="example">
    В этой <b>таблице объединения</b> содержатся пары первичных ключей продуктов и поставщиков (с возможностью повторения),
    таким образом формируя связь между ними. Одна строка таблицы показывает, что у конкретного поставщика доступен н
    конкретный продукт. Если взять все строки, у которых Supplier_ID равен ИД конкретного поставщика, то получим список
    продуктов, доступных у него.
</p>
<p class="example">
    В модели проектирования эта вспомогательная таблица является избыточной, поскольку объектная модель позволяет
    представлять отношения "многие-ко-многим" напрямую. На рисунке показаны классы <b>Supplier</b> и <b>Product</b> и их
    взаимосвязь. Кроме того, на нем показан класс <b>Address</b>, извлеченный из <b>Supplier</b> в соответствии с
    рекомендациями, оговоренными ранее.
</p>
<p class="example" align="center">
    <img height="301" alt="Диаграмма UML, описание в заголовке." src="./../../../core.base_rup/guidances/guidelines/resources/rdb-oo4.gif" width="409" />
</p>
<p class="picturetext">
    Классы Product и Supplier
</p>
<h3>
    <a id="Introduce Generalization" name="Introduce Generalization">Обобщение</a>
</h3>
<p>
    Часто среди всех таблиц несколько будут иметь схожую структуру. В <a class="elementLinkWithUserText" href="./../../../core.base_rup/workproducts/rup_data_model_65B46980.html" guid="{9DCF1723-1A21-4F48-BEDE-DBC543489682}">модели
    данных</a> нет понятия обобщения, поэтому она не позволяет представлять схожесть структуры таблиц. Иногда аналогичная
    структура получается в результате денормализации (для повышения производительности), как в случае 'неявной' таблицы
    <b>Address</b>, выделенной из другого класса. В других случаях более фундаментальные параметры являются общими, которые
    можно представить в виде общего базового класса и двух или больше подклассов. Для выявления возможности обобщения ищите
    часто повторяющиеся в разных таблицах столбцы, когда таблицы более схожи, чем различны.
</p>
<p class="exampleheading">
    Пример
</p>
<p class="example">
    Рассмотрим таблицы <b>SoftwareProduct</b> и <b>HardwareProduct</b>:
</p>
<div align="center">
    <table cellspacing="0" cellpadding="0" width="85%" border="0">
        <tbody>
            <tr>
                <td align="middle">
                    <table                     style="BORDER-RIGHT: rgb(128,128,128) 1px solid; BORDER-TOP: rgb(128,128,128) 1px solid; BORDER-LEFT: rgb(128,128,128) 1px solid; BORDER-BOTTOM: rgb(128,128,128) 1px solid"                      cellspacing="0" bordercolordark="#808080" cellpadding="4" width="300" bordercolorlight="#808080"                     border="1">
                        <caption>
                            Таблица Software Product
                        </caption>
                        <tbody>
                            <tr>
                                <th scope="col" width="20%">
                                    <u><b>Имя столбца&nbsp;</b></u>
                                </th>
                                <th scope="col" width="20%">
                                    <u><b>Тип данных&nbsp;</b></u>
                                </th>
                            </tr>
                            <tr>
                                <td width="20%">
                                    <font color="#0000ff">Product_ID&nbsp;</font>
                                </td>
                                <td width="20%">
                                    <font color="#0000ff">Number&nbsp;</font>
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">
                                    <font color="#0000ff">Name&nbsp;</font>
                                </td>
                                <td width="20%">
                                    <font color="#0000ff">Varchar&nbsp;</font>
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">
                                    <font color="#0000ff">Description&nbsp;</font>
                                </td>
                                <td width="20%">
                                    <font color="#0000ff">Varchar&nbsp;</font>
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">
                                    <font color="#0000ff">Price&nbsp;</font>
                                </td>
                                <td width="20%">
                                    <font color="#0000ff">Number&nbsp;</font>
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">
                                    Version&nbsp;
                                </td>
                                <td width="20%">
                                    Number&nbsp;
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </td>
                <td align="middle">
                    <table                     style="BORDER-RIGHT: rgb(128,128,128) 1px solid; BORDER-TOP: rgb(128,128,128) 1px solid; BORDER-LEFT: rgb(128,128,128) 1px solid; BORDER-BOTTOM: rgb(128,128,128) 1px solid"                      cellspacing="0" bordercolordark="#808080" cellpadding="4" width="300" bordercolorlight="#808080"                     border="1">
                        <caption>
                            Таблица Hardware Product
                        </caption>
                        <tbody>
                            <tr>
                                <th scope="col" width="20%">
                                    <u><b>Имя столбца&nbsp;</b></u>
                                </th>
                                <th scope="col" width="20%">
                                    <u><b>Тип данных&nbsp;</b></u>
                                </th>
                            </tr>
                            <tr>
                                <td width="20%">
                                    <font color="#0000ff">Product_ID&nbsp;</font>
                                </td>
                                <td width="20%">
                                    <font color="#0000ff">Number&nbsp;</font>
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">
                                    <font color="#0000ff">Name&nbsp;</font>
                                </td>
                                <td width="20%">
                                    <font color="#0000ff">Varchar&nbsp;</font>
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">
                                    <font color="#0000ff">Description&nbsp;</font>
                                </td>
                                <td width="20%">
                                    <font color="#0000ff">Varchar&nbsp;</font>
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">
                                    <font color="#0000ff">Price&nbsp;</font>
                                </td>
                                <td width="20%">
                                    <font color="#0000ff">Number&nbsp;</font>
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">
                                    Version&nbsp;
                                </td>
                                <td width="20%">
                                    Number&nbsp;
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </td>
            </tr>
        </tbody>
    </table>
    <p>
        <br />
    </p>
</div>
<p class="picturetext">
    Таблицы SoftwareProduct и HardwareProduct
</p>
<p class="example">
    Общие столбцы выделены синим цветом. Как видно, общей является большая часть обоих таблиц и они различаются только
    одним полем. Эту общность можно представить выделением общего класса <b>Product</b> и объявление классов
    <b>SoftwareProduct</b> и <b>HardwareProduct</b> подклассами <b>Product</b>:
</p>
<p class="example" align="center">
    <img height="231" alt="Диаграмма описана в сопровождающем тексте." src="./../../../core.base_rup/guidances/guidelines/resources/rdb-oo5.gif" width="320" />
</p>
<p class="picturetext">
    Классы SoftwareProduct и HardwareProduct - потомки базового класса Product
</p>
<p class="example">
    Соберем все основные классы системы заказов вместе.
</p>
<p class="example" align="center">
    <img height="588" alt="Диаграмма, описанная в тексте." src="./../../../core.base_rup/guidances/guidelines/resources/rdb-oo6.gif" width="643" />
</p>
<p class="picturetext">
    Сводная диаграмма классов для системы заказов
</p>
<h3>
    <a id="Replicating RDBMS Behavior in the Design Model" name="Replicating RDBMS Behavior in the Design Model">Репликация
    поведения RDBMS в модель проектирования</a>
</h3>
<p>
    Репликация поведения - более сложная задача, т.к. обычно реляционные базы данных не являются объектно-ориентированными
    и провести аналогию между их поведением и операциями с классами в объектной модели сложно. Далее приведены действия,
    которые могут помочь реконструировать поведение классов, идентифицированных ранее:
</p>
<ol>
    <li>
        <b>Создайте методы доступа (get и set).</b> Необходимо иметь возможность задавать, изменять и запрашивать значения
        атрибутов объектов. Это необходимо, поскольку к атрибутам объекта можно обращаться только через методы,
        предоставляемые его классом. При создании операций, устанавливающих значение атрибута, не забудьте реализовать
        проверку на удовлетворение условиям, накладываемым на значение поля в таблице. Если такая проверка не требуется, то
        просто зафиксируйте возможность <b>изменения</b> и <b>получения</b> значений атрибутов, указав для них область
        видимости "public", как это было сделано в диаграммах выше (значком слева от имени атрибута).
    </li>
    <li>
        <b>Создайте операции, работающие с классом, соответствующие хранимым процедурам, работающим со связанной
        таблицей.</b> Хранимые процедуры - это функции, исполняемые в DBMS. Они должны быть транслированы в модель
        проектирования. Если хранимая процедура работает только с одним классом, объявляйте соответствующую ей операцию с
        такими же параметрами и таким же возвращаемым значением. Документируйте поведение хранимой процедуры в созданной
        операции, указав в описании <b>метода</b> то, что операция реализуется хранимой процедурой.
    </li>
    <li>
        <b>Создайте операции для управления ассоциациями между классами.</b> Если два класса связаны между собой, должен
        быть способ создавать, изменять и удалять ассоциации между ними. Связь между объектами осуществляется с помощью
        ссылок на объекты, поэтому для создания ассоциации между <b>Order</b> и <b>LineItem</b> (т.е. добавить
        <b>LineItem</b> в <b>Order</b>), должна вызываться операция объекта <b>Order</b>, которой будет передаваться объект
        <b>LineItem</b> (например, <b>Order.add(aLineItem)</b>). Также должна быть возможность удаления и обновления
        ассоциации (<b>Order.remove(aLineItem)</b> и <b>Order.change(aLineItem,aNewLineItem)</b>).
    </li>
    <li>
        <b>Удаление объектов.</b> Если целевой язык поддерживает явное удаление, добавьте в деструктор класса код проверки
        целостности связей. В случае, если в базе данных существуют правила сохранения целостности связей, например,
        <b>каскадное удаление связанных записей</b>, соответствующее поведение необходимо отразить в задействованных
        классах. Например, в базе данных может быть следующее правило: при удалении <b>Order</b> все связанные
        <b>LineItem</b> также должны удаляться. Если целевой язык поддерживает сбор мусора, создайте механизм удаления
        строк из таблиц при освобождении связанного объекта в рамках сбора мусора. Обратите внимание, что корректно
        реализовать это достаточно трудно, поскольку вам потребуется реализовать механизм гарантирования того, что среди
        подключенных клиентов базы данных нет имеющих ссылки на удаляемый из памяти объект. В данном случае не следует
        полагаться на механизм сбора мусора среды выполнения/виртуальной машины, т.к. это всего лишь такой же клиент, как и
        любые другие.
    </li>
    <li>
        <b>Поведение, требуемое для запросов.</b> Проанализируйте операторы Select, использующиеся для обращения к базе
        данных, для получения картины того, как информация получается и обрабатывается. Для каждого столбца,
        непосредственно возвращаемого оператором Select, установите свойство <b>public</b> связанного атрибута равным
        <b>true</b>; для всех остальных атрибутов укажите <b>private</b>. Для каждого динамически вычисляемого столбца в
        операторе Select создайте операцию в связанном классе, рассчитывающую и возвращающую соответствующее значение. В
        число рассматриваемых операторов включите встроенные в представления.
    </li>
</ol>
<h3>
    <a id="Organize Elements in the Design Model" name="Organize Elements in the Design Model">Организация элементов в
    модели проектирования</a>
</h3>
<p>
    Класс проектирования, создаваемые в результате преобразований "таблица - класс", следует организовывать в модели
    проектирования в <a class="elementLinkWithUserText" href="./../../../core.base_rup/workproducts/rup_design_package_8376BC8E.html" guid="{80CC5437-F481-487B-A69B-957D9D236D8D}">пакеты проектирования</a> и/или <a class="elementLinkWithUserText" href="./../../../core.base_rup/workproducts/rup_design_subsystem_1A8D169B.html" guid="{A3C60B25-9780-4BFA-81AF-C1AD40D8A833}">подсистемы проектирования</a>, на основе общей архитектуры
    приложения.&nbsp;См. <a class="elementLinkWithUserText" href="./../../../core.base_rup/guidances/concepts/layering_59FD1CD4.html" guid="3.801315327549898E-305">Понятия: Разделение на уровни</a> и <a class="elementLinkWithUserText" href="./../../../core.base_rup/guidances/concepts/software_architecture_4269A354.html" guid="3.066252221588648E-305">Понятия:
    Архитектура ПО</a>.
</p><br />
<br /></td>
</tr>
</table>
</div>
<table cellpadding="0" cellspacing="0" border="0" class="copyright">
<tr>
<td class="copyright"><p>
    &copy; &nbsp;Copyright IBM Corp.&nbsp;1987, 2006. &nbsp;Все права защищены..
</p></td>
</tr>
</table>
</td>
</tr>
</table>
</body>
<script language="JavaScript" type="text/javascript">
				contentPage.onload();
			</script>
</html>
