<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" lang="ru" xml:lang="ru">
<head>
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Рекомендация: Идеи тестов для диаграмм конечных состояний и потока</title>
<meta content="Guideline" name="uma.type">
<meta content="test_ideas_for_statechart_and_flow_diagrams" name="uma.name">
<meta content="Идеи тестов для диаграмм конечных состояний и потока" name="uma.presentationName">
<meta name="element_type" content="other">
<meta content="description" name="filetype">
<meta name="role" content="">
<link type="text/css" href="./../../../css/default.css" rel="StyleSheet">
<script language="JavaScript" type="text/javascript" src="./../../../scripts/ContentPageResource.js"></script><script language="JavaScript" type="text/javascript" src="./../../../scripts/ContentPageSection.js"></script><script language="JavaScript" type="text/javascript" src="./../../../scripts/ContentPageSubSection.js"></script><script language="JavaScript" type="text/javascript" src="./../../../scripts/ContentPageToolbar.js"></script><script language="JavaScript" type="text/javascript" src="./../../../scripts/contentPage.js"></script><script language="JavaScript" type="text/javascript">
					var backPath = './../../../';
					var imgPath = './../../../images/';
					var nodeInfo=[{view: "view:_bbrmwN7BEdmsEI4YDGX2ag", path: ["_bbrmwN7BEdmsEI4YDGX2ag", "_jD8dUAIbEdqEutyfYo0quQ", "_2ClPcDIcEdqDs_9ORT1Rig", "3.794638918140148E-305"]}];
					contentPage.preload(imgPath, backPath, nodeInfo,  '', false, false, false);
				</script>
</head>
<body>
<div id="breadcrumbs"></div>
<table width="100%" cellspacing="0" cellpadding="0" border="0">
<tr>
<td valign="top"><a name="Top"></a>
<div id="page-guid" value="3.794638918140148E-305"></div>
<table width="100%" cellpadding="0" cellspacing="0" border="0">
<tr>
<td nowrap="true" class="pageTitle">Рекомендация: Идеи тестов для диаграмм конечных состояний и потока</td><td width="100%">
<div id="contentPageToolbar" align="right"></div>
</td>
</tr>
</table>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
<td class="pageTitleSeparator"><img height="1" title="" alt="" src="./../../../images/shim.gif"></td>
</tr>
</table>
<div class="overview">
<table cellpadding="0" cellspacing="0" border="0" width="97%">
<tr>
<td width="50"><img title="" alt="" src="./../../../images/guidance.gif"></td><td>
<table cellpadding="0" cellspacing="0" border="0" class="overviewTable">
<tr>
<td valign="top">Идеи тестов опираются на вероятные сбои программного обеспечения и способы обнаружения этих сбоев. Эта рекомендация посвящена созданию идей тестов на основе диаграмм состояний и прочих графических структур проекта.</td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<div class="sectionHeading">Взаимосвязи</div>
<div class="sectionContent">
<table cellpadding="0" cellspacing="0" border="0" class="sectionTable">
<tr valign="top">
<th scope="row" class="sectionTableHeading">Связанные элементы</th><td class="sectionTableCell">
<ul>
<li>
<a href="./../../../core.base_rup/workproducts/rup_test_ideas_list_2A0F8E03.html" guid="{45219F27-0F84-4FD5-A7BC-73C19226303B}">Тест - Список идей</a>
</li>
</ul>
</td>
</tr>
</table>
</div>
<div class="sectionHeading">Основное описание</div>
<div class="sectionContent">
<table cellpadding="0" cellspacing="0" border="0" class="sectionTable">
<tr valign="top">
<td class="sectionTableSingleCell"><a id="Top" name="Top"></a><a id="XE_state_machine__test_ideas_for" name="XE_state_machine__test_ideas_for"></a><a id="XE_test_idea__for_state_machine" name="XE_test_idea__for_state_machine"></a> 
<h3>
    <a id="Introduction" name="Introduction">Введение</a>
</h3>
<p>
    Эта рекомендация посвящена созданию <a class="elementLinkWithUserText" href="./../../../core.base_rup/guidances/concepts/test-ideas_list_A6CEF011.html#TestIdeas" guid="6.149711039531016E-305">идей
    тестов</a> на основе диаграмм состояний и прочих графических структур проекта, на которых показаны узлы, соединенные
    дугами и отражающие потоки выполнения программы. Основная цель в тестировании состоит в том, чтобы каждая дуга
    проходилась хотя бы в одном тесте. Если дуга не была испытана, то не может быть полной уверенности в том, что она
    сработает правильно у заказчика.
</p>
<h3>
    <a id="Implementation" name="Implementation">Тестирование реализации</a>
</h3>
<p>
    Рассмотрим следующую диаграмму состояний:
</p>
<p align="center">
    <img height="253" alt="Диаграмма, описанная в тексте."     src="./../../../core.base_rup/guidances/concepts/resources/tstfrsdsg-img3.gif" width="567" />
</p>
<p class="picturetext">
    Рис. 1: Диаграмма состояний кондиционера
</p>
<p>
    Идеи тестов могут быть такими:
</p>
<ul>
    <li>
        В состоянии простоя возникает событие перегрева
    </li>
    <li>
        В состоянии простоя возникает событие переохлаждения
    </li>
    <li>
        В состоянии охлаждение-запуск возникает событие работы компрессора
    </li>
    <li>
        В состоянии охлаждение-готово возникает событие работы вентилятора
    </li>
    <li>
        В состоянии охлаждение-работа возникает событие OK
    </li>
    <li>
        В состоянии охлаждение-работа возникает событие неисправности
    </li>
    <li>
        В состоянии охлаждение-работа возникает событие устранения неисправности
    </li>
    <li>
        В состоянии нагрева возникает событие OK
    </li>
    <li>
        В состоянии нагрева возникает событие неисправности
    </li>
</ul>
<p>
    Эти идеи можно проверить в одном тесте или создать несколько тестов, в каждом из которых проверяется по несколько идей.
    Старайтесь достичь баланса между простотой реализации небольших тестов и способностью обнаруживать ошибки сложных
    тестов. Прочитайте раздел <a class="elementLinkWithUserText" href="./../../../core.base_rup/guidances/concepts/test-ideas_list_A6CEF011.html#TestDesignUsingTheList" guid="6.149711039531016E-305">Проектирование теста с помощью списка</a> в документе <a class="elementLinkWithUserText" href="./../../../core.base_rup/guidances/concepts/test-ideas_list_A6CEF011.html" guid="6.149711039531016E-305">Концепции: список
    идей тестов</a>. Если в каких-либо сценариях варианта использования описаны пути прохождения диаграммы состояний,
    выбирайте тесты, в которых проходятся эти пути.
</p>
<p>
    В тестах необходимо проверить, имеют ли место все действия, указанные в диаграмме состояний. Например, включился ли
    индикатор при входе в неисправное состояние, и выключился ли он при выходе из него.
</p>
<p>
    В тесте необходимо также проверить, ведет ли переход в правильное следующее состояние. Это может быть трудным, если
    состояния не могут быть наблюдаемы извне. Тогда единственный способ обнаружения неверного состояния - это искусственная
    последовательность событий, которая приводит к неверному результату. Точнее говоря, требуется создать
    последовательность событий, внешние наблюдаемые результаты которой для <i>правильного</i> состояния будут отличаться от
    тех, которые та же последовательность вызвала бы для любого <i>неправильного</i> состояния.
</p>
<p>
    Как в описанном выше примере убедиться, что событие устранения неисправности приводит к переходу из неисправного
    состояния в состояние простоя? Можно ограничиться тем, что поверить тому, что индикатор неисправности более не горит,
    но будет лучше понизить температуру до момента включения нагрева или повысить ее до включения охлаждения. Если это
    произойдет, то вероятно, переход был выполнен правильно. Если ничего не происходит, то скорее всего устройство так и
    осталось в неисправном состоянии.
</p>
<p>
    Определение того, является ли конечное состояние правильным, усложняет проектирование теста. Часто предпочтительнее
    будет сделать явный конечный автомат с состояниями, наблюдаемыми в тестах.
</p>
<h4>
    Прочие конструкции диаграммы состояний
</h4>
<p>
    Диаграммы состояний - это не только дуги и стрелки. Далее приведен список конструкций диаграммы состояний и показано их
    влияние на список идей тестов.
</p>
<h5>
    Действия при событии, при входе и при выходе
</h5>
<p>
    Эти элементы сами по себе не приводят к новым идеям тестов. В тестах проверяется правильность выполнения действий. Если
    действия относятся к выполнению других программ, необходимо протестировать эти программы. Идеи тестов для программ
    могут сочетаться с идеями тестов из диаграммы состояний, но удобнее будет их разделить. Принимайте решение с учетом
    требуемых затрат и возможности взаимодействия между событиями. Например, если какое-либо действие на дуге не может
    иметь общих данных с действием на другой дуге, нет смысла проводить одновременное тестирование обоих этих действий, как
    если бы они выполнялись на одном пути в диаграмме состояний.
</p>
<h5>
    Сторожевые условия
</h5>
<p>
    Сторожевые условия - это булевские выражения. Создание идей тестов для сторожевых условий описано в документе <a class="elementLinkWithUserText" href="./../../../core.base_rup/guidances/guidelines/test_ideas_for_booleans_and_boundaries_74AE938C.html" guid="1.8659406802663404E-305">Рекомендация по рабочему продукту: идеи тестов для булевских выражений и граничных
    условий</a>.
</p>
<p>
    В нашем примере для перехода из состояния простоя в состояние переохлаждения есть сторожевое условие [время перезапуска
    &gt;= 5 мин]. Это приводит к двум идеям тестов:
</p>
<ul>
    <li>
        В состоянии простоя возникает событие переохлаждения, когда время перезапуска равно пяти минутам
    </li>
    <li>
        В состоянии простоя возникает событие переохлаждения, когда время перезапуска меньше пяти минут (переход запрещен)
    </li>
</ul>
<p>
    В обоих случаях в тестах должно быть проверено, что переход ведет в правильное состояние.
</p>
<h5>
    Внутренние переходы
</h5>
<p>
    Внутренние переходы добавляют такие же идеи тестов, как и внешние переходы. Разница в том, что следующее состояние
    совпадает с исходным состоянием. Тест следует построить таким образом, чтобы ошибки при выполнении действий при входе и
    выходе приводили бы к наблюдаемому эффекту.
</p>
<h5>
    Вложенные состояния
</h5>
<p>
    Тесты должны быть построены так, чтобы действия при входе в составное состояние и при выходе из него должны приводить к
    наблюдаемым эффектам. Если эти действия не выполняются, это должно быть замечено.
</p>
<h5>
    Параллельные подсостояния
</h5>
<p>
    Тестирование параллелизма выходит за рамки тестирования разработчиками.
</p>
<h5>
    Отложенные события
</h5>
<p>
    Можно предусмотреть тесты ситуаций, в которых проверяется, нет ли различий в обработке события, если оно обрабатывается
    сразу или попадает в очередь отложенных событий.
</p>
<p>
    Если для события задано сторожевое условие, рассмотрите возможность изменения переменных условия в промежутке между
    созданием события и его приходом в активное состояние.
</p>
<p>
    Если отложенное событие может обрабатываться несколькими состояниями, протестируйте его обработку каждым из таких
    состояний. Возможно, в реализации была предусмотрена обработка события только "очевидным" состоянием.
</p>
<h5>
    Хронологические состояния
</h5>
<p>
    Пример хронологического состояния:
</p>
<p align="center">
    <img height="211" alt="Диаграмма, описанная в тексте." src="./../../../core.base_rup/guidances/guidelines/resources/md_state3.gif" width="412" />
</p>
<p class="picturetext">
    Рис. 2: Пример хронологического состояния
</p>
<p>
    Переход в хронологическое состояние представляет три фактических перехода и тем самым три идеи тестов:
</p>
<ul>
    <li>
        Событие резервного копирования в состоянии Команда приводит к состоянию Сбор данных
    </li>
    <li>
        Событие резервного копирования в состоянии Команда приводит к состоянию Копирование
    </li>
    <li>
        Событие резервного копирования в состоянии Команда приводит к состоянию Очистка
    </li>
</ul>
<h5>
    Цепочечные состояния
</h5>
<p>
    Цепочечные состояния не несут никаких новых идей тестов, за исключением того, что проверяется большее число действий.
</p>
<h3>
    <a id="Design" name="Design">Тестирование проекта</a>
</h3>
<p>
    До сих пор мы рассматривали вопросы проверки соответствия реализации проекту. Но в самом проекте тоже могут быть
    ошибки. При поиске идей тестов для проекта рассмотрите две возможные категории ошибок:
</p>
<p>
    <b>Пропущенные события.</b> В диаграмме состояний показан ответ на события, <i>предусмотренные проектировщиком для
    этого состояния</i>. Проектировщики могут и упускать из виду какие-либо события. Например, в уже знакомой нам диаграмме
    проектировщик скорее всего забыл о том, что неисправность может возникнуть и в подсостоянии готовности состояния
    охлаждения, а не только когда работает вентилятор.
</p>
<p align="center">
    <img height="253" alt="Диаграмма, описанная в тексте."     src="./../../../core.base_rup/guidances/concepts/resources/tstfrsdsg-img3.gif" width="567" />
</p>
<p class="picturetext">
    Рис. 3: Диаграмма состояний кондиционера
</p>
<p>
    Поэтому для каждого состояния следует проверить, могут ли в нем возникать события, применимые для других состояний.
    Если таковое обнаружится, исправьте проект.
</p>
<p>
    <b>Неполные или отсутствующие сторожевые условия.</b> Подобным же образом сторожевое условие для какого-либо перехода
    может навести на мысль о его применимости для другого перехода. Например, на диаграмме отмечено, что нагреватель не
    должен включаться слишком часто, но такого ограничения нет для системы охлаждения. Возможно, его следует добавить.
</p>
<p>
    Иногда переменные сторожевого условия могут подсказать, что какое-либо сторожевое условие определено не полностью.
</p>
<h3>
    <a id="Interactions" name="Interactions">Тестирование взаимодействия</a>
</h3>
<p>
    Тестирование каждой дуги диаграммы не означает исчерпывающего тестирования. Например, в начальном состоянии переменная
    инициализируется в 0, метод set присваивает ей значение 5, а в состоянии деления 100 делится на значение переменной.
    Если какой-либо из путей в состояние деления ведет в обход метода set, то возникнет исключительная ситуация деления на
    ноль. Если диаграмма состоит из множества состояний, то простой обход каждой дуги может не обнаружить этот путь.
</p>
<p>
    Однако тестирование всех возможных путей выполнимо только для простейших диаграмм. Практически применяются тесты,
    которые по своей сложности отвечают сценариям вариантов использования. Для более полных тестов рассмотрите также пути,
    ведущие из каждого состояния, в котором переменной присваивается значение, в состояния, где эта переменная
    используется.
</p><br />
<br /></td>
</tr>
</table>
</div>
<table cellpadding="0" cellspacing="0" border="0" class="copyright">
<tr>
<td class="copyright"><p>
    &copy; &nbsp;Copyright IBM Corp.&nbsp;1987, 2006. &nbsp;Все права защищены..
</p></td>
</tr>
</table>
</td>
</tr>
</table>
</body>
<script language="JavaScript" type="text/javascript">
				contentPage.onload();
			</script>
</html>
