<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" lang="ru" xml:lang="ru">
<head>
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Задача: Создание описания архитектуры среды выполнения</title>
<meta content="Task" name="uma.type">
<meta content="describe_runtime_architecture" name="uma.name">
<meta content="Создание описания архитектуры среды выполнения" name="uma.presentationName">
<meta content="Discipline:rup_analysis_design_discipline:Анализ и проектирование" name="uma.category">
<meta name="element_type" content="activity">
<meta content="description" name="filetype">
<meta name="role" content="">
<link type="text/css" href="./../../css/default.css" rel="StyleSheet">
<script language="JavaScript" type="text/javascript" src="./../../scripts/ContentPageResource.js"></script><script language="JavaScript" type="text/javascript" src="./../../scripts/ContentPageSection.js"></script><script language="JavaScript" type="text/javascript" src="./../../scripts/ContentPageSubSection.js"></script><script language="JavaScript" type="text/javascript" src="./../../scripts/ContentPageToolbar.js"></script><script language="JavaScript" type="text/javascript" src="./../../scripts/contentPage.js"></script><script language="JavaScript" type="text/javascript">
					var backPath = './../../';
					var imgPath = './../../images/';
					var nodeInfo=[{view: "view:_LVCagP5WEdmAzesbYywanQ", path: ["_LVCagP5WEdmAzesbYywanQ", "_zRigkAILEdq-_NKqZM1EhA", "_IY0NkAISEdqTna4sZVFRow", "_ydt62NnmEdmO6L4XMImrsA", "{4D35C038-A2D0-48B8-9ECD-52717FEAE33A}"]}, {view: "view:_FCx1oN7CEdmsEI4YDGX2ag", path: ["_FCx1oN7CEdmsEI4YDGX2ag", "_kC0pcN7GEdm8G6yT7-Wdqw", "_ydt62NnmEdmO6L4XMImrsA", "{4D35C038-A2D0-48B8-9ECD-52717FEAE33A}"]}, {view: "view:_bbrmwN7BEdmsEI4YDGX2ag", path: ["_bbrmwN7BEdmsEI4YDGX2ag", "_kC0pcN7GEdm8G6yT7-Wdqw", "_ydt62NnmEdmO6L4XMImrsA", "{4D35C038-A2D0-48B8-9ECD-52717FEAE33A}"]}, {view: "view:_bbrmwN7BEdmsEI4YDGX2ag", path: ["_bbrmwN7BEdmsEI4YDGX2ag", "_zRigkAILEdq-_NKqZM1EhA", "_IY0NkAISEdqTna4sZVFRow", "_ydt62NnmEdmO6L4XMImrsA", "{4D35C038-A2D0-48B8-9ECD-52717FEAE33A}"]}];
					contentPage.preload(imgPath, backPath, nodeInfo, '', true, false, false);
				</script>
</head>
<body>
<div id="breadcrumbs"></div>
<table width="100%" cellspacing="0" cellpadding="0" border="0">
<tr>
<td valign="top">
<div id="page-guid" value="{4D35C038-A2D0-48B8-9ECD-52717FEAE33A}"></div>
<table width="100%" cellpadding="0" cellspacing="0" border="0">
<tr>
<td nowrap="true" class="pageTitle">Задача: Создание описания архитектуры среды выполнения</td><td width="100%">
<div id="contentPageToolbar" align="right"></div>
</td>
</tr>
</table>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
<td class="pageTitleSeparator"><img height="1" title="" alt="" src="./../../images/shim.gif"></td>
</tr>
</table>
<div class="overview">
<table cellpadding="0" cellspacing="0" border="0" width="97%">
<tr>
<td width="50"><img title="" alt="" src="./../../images/task.gif"></td><td>
<table cellpadding="0" cellspacing="0" border="0" class="overviewTable">
<tr>
<td valign="top">Эта задача определяет архитектуру процесса для системы в терминах активных классов и их экземпляров и ее взаимосвязь с нитями и процессами операционной системы.</td>
</tr>
<tr>
<td>Дисциплины: <a href="./../../core.base_rup/disciplines/rup_analysis_design_discipline_29760231.html" guid="_ydt62NnmEdmO6L4XMImrsA">Анализ и проектирование</a></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<div class="sectionHeading">Назначение</div>
<div class="sectionContent">
<table cellpadding="0" cellspacing="0" border="0" class="sectionTable">
<tr valign="top">
<td class="sectionTableSingleCell"><a id="Top" name="Top"></a> 
<ul>
    <li>
        Проанализировать требования к параллелизму,
    </li>
    <li>
        Определить процессы и их жизненные циклы&nbsp;
    </li>
    <li>
        Определить механизмы межпроцессной связи и выделить ресурсы межпроцессной координации&nbsp;
    </li>
    <li>
        Распределить элементы модели между процессами.
    </li>
</ul></td>
</tr>
</table>
</div>
<div class="sectionHeading">Взаимосвязи</div>
<div class="sectionContent">
<table cellpadding="0" cellspacing="0" border="0" class="sectionTable">
<tr valign="top">
<th scope="row" class="sectionTableHeading">Роли</th><td width="42%" class="sectionTableCell"><span class="sectionTableCellHeading">Основной исполнитель:
								</span>
<ul>
<li>
<a href="./../../core.base_rup/roles/rup_software_architect_DB0BF177.html" guid="{4AC346F0-E6FC-4D2C-8410-2EDF8DDDC91D}">Разработчик архитектуры</a>
</li>
</ul>
</td><td class="sectionTableCell"><span class="sectionTableCellHeading">Дополнительные исполнители:
								</span></td>
</tr>
<tr valign="top">
<th scope="row" class="sectionTableHeading">Входы</th><td width="42%" class="sectionTableCell"><span class="sectionTableCellHeading">Обязательный:
								</span>
<ul>
<li>
<a href="./../../core.base_rup/workproducts/rup_software_architecture_document_C367485C.html" guid="{6F49641A-ED10-47B5-9E5D-3F90A6BF3006}">Документ архитектуры программного обеспечения</a>
</li>
<li>
<a href="./../../core.base_rup/workproducts/rup_design_model_2830034D.html" guid="{8CDAEAD4-5E84-4F50-87FD-3240ED047DE7}">Модель проектирования</a>
</li>
</ul>
<ul></ul>
</td><td class="sectionTableCell"><span class="sectionTableCellHeading">Необязательный:
								</span>
<ul>
<li>
<a href="./../../core.base_rup/workproducts/rup_supplementary_specification_F5ACAA22.html" guid="{B16C2941-791C-44E6-B353-354109B5C9DE}">Дополнительные спецификации</a>
</li>
<li>
<a href="./../../core.base_rup/workproducts/rup_capsule_FC4A34FD.html" guid="{4423FCE1-FF59-4C8E-A6C4-AA4B13CB3250}">Капсула</a>
</li>
</ul>
<ul></ul>
</td>
</tr>
<tr valign="top">
<th scope="row" class="sectionTableHeading">Выходы</th><td colspan="2" class="sectionTableCell">
<ul>
<li>
<a href="./../../core.base_rup/workproducts/rup_software_architecture_document_C367485C.html" guid="{6F49641A-ED10-47B5-9E5D-3F90A6BF3006}">Документ архитектуры программного обеспечения</a>
</li>
<li>
<a href="./../../core.base_rup/workproducts/rup_design_model_2830034D.html" guid="{8CDAEAD4-5E84-4F50-87FD-3240ED047DE7}">Модель проектирования</a>
</li>
</ul>
<ul></ul>
</td>
</tr>
</table>
</div>
<div class="sectionHeading">Основное описание</div>
<div class="sectionContent">
<table cellpadding="0" cellspacing="0" border="0" class="sectionTable">
<tr valign="top">
<td class="sectionTableSingleCell"><p>
    Активные объекты (т.е. экземпляры активных классов) служат для представления параллельных нитей, выполняемых в системе:
    у каждого активного объекта есть своя собственная управляющая нить, которая, условно говоря, является корнем фрейма
    стека выполнения. Отображение активных объектов в фактические нити или процессы операционной системы может выполняться
    по-разному в зависимости от требований к времени реакции системы и к нагрузке на переключение контекста. Например,
    несколько активных объектов, вместе с простым планировщиком, могут совместно использовать одну нить операционной
    системы, производя впечатление объектов, работающих параллельно. Однако при блокировке одного из таких объектов,
    например из-за выполнения им синхронного ввода-вывода, другие активные объекты группы не смогут отвечать на события,
    происходящие в период блокировки нити операционной системы.
</p>
<p>
    Другая крайность - предоставление каждому активному объекту отдельной нити операционной системы - позволяет существенно
    ускорить реакцию системы, но вместе с тем повышает нагрузку, связанную с переключением контекста, что может
    неблагоприятно сказаться на ресурсах, участвующих в обработке.
</p>
<p class="reactive">
    В системах, работающих в режиме реального времени, моделировать параллелизм рекомендуется с помощью капсул (см. раздел
    <a class="elementLinkWithUserText" href="./../../core.base_rup/workproducts/rup_capsule_FC4A34FD.html" guid="{4423FCE1-FF59-4C8E-A6C4-AA4B13CB3250}">Рабочий продукт: капсула</a>); подобно активным классам, у каждой капсулы
    есть своя управляющая нить, но, кроме того, у капсулы есть возможность инкапсуляции и семантика составления, упрощающая
    моделирование сложных проблем в режиме реального времени.
</p>
<p>
    Эта задача определяет архитектуру процесса для системы в терминах активных классов и их экземпляров и ее взаимосвязь с
    нитями и процессами операционной системы. &nbsp;Для систем, работающих в режиме реального времени, архитектура процесса
    будет определена в терминах капсул и их связанного отображения в процессы и нити операционной системы.
</p>
<p>
    В начале этапа уточнения эта архитектура может носить предварительный характер, однако к концу этапа уточнения процессы
    и нити должны быть уже вполне определены. Результаты выполнения этой задачи попадают в модель проектирования - в
    частности, в панель процессов (см. раздел <a class="elementLinkWithUserText" href="./../../core.base_rup/guidances/concepts/process_view_E3DD0B09.html" guid="6.45284088262517E-306">Концепция: панель
    процессов</a>).
</p></td>
</tr>
</table>
</div>
<div class="sectionHeading">Шаги</div>
<div class="sectionContent">
<table cellpadding="0" cellspacing="0" border="0" class="sectionTable">
<tr>
<td class="sectionTableSingleCell">
<div class="stepHeading">Проанализируйте требования к параллелизму </div>
<div class="stepContent">
<table cellpadding="0" cellspacing="0" border="0" class="stepTable">
<tr valign="top">
<td><a id="Define Concurrency Requirements" name="Define Concurrency Requirements"></a> 
<div align="left">
    <table     style="BORDER-RIGHT: rgb(128,128,128) 1px solid; BORDER-TOP: rgb(128,128,128) 1px solid; BORDER-LEFT: rgb(128,128,128) 1px solid; BORDER-BOTTOM: rgb(128,128,128) 1px solid"      cellspacing="0" bordercolordark="#808080" cellpadding="4" width="100%" bordercolorlight="#808080" border="1">
        <tbody>
            <tr>
                <td width="5%">
                    <b>Цель&nbsp;</b>
                </td>
                <td width="95%">
                    Определить степень параллелизма выполнения, необходимую для системы. Это определение поможет
                    сформировать архитектуру. &nbsp;
                </td>
            </tr>
        </tbody>
    </table><br />
    При выполнении задачи из раздела <a class="elementLinkWithUserText" href="./../../core.base_rup/tasks/identify_design_elements_E884AB82.html" guid="{97D7343A-6993-4AB7-8F86-4DAC8C9075C8}">Задача:
    определить элементы проектирования</a> рассматривались требования к параллелизму, вызванные, в первую очередь,
    естественно возникающими требованиями к параллелизму в проблемном домене. &nbsp;
</div>
<p>
    Результатом этого был набор активных классов, представляющий логические управляющие нити в системе. &nbsp;В системах,
    работающих в режиме реального времени, эти активные классы представлены капсулой (см. раздел <a class="elementLinkWithUserText" href="./../../core.base_rup/workproducts/rup_capsule_FC4A34FD.html" guid="{4423FCE1-FF59-4C8E-A6C4-AA4B13CB3250}">Рабочий продукт: капсула</a>).
</p>
<p>
    На этом шаге мы рассмотрим другие источники требований к параллелизм - а именно, те, которые вызваны нефункциональными
    требованиями системы.
</p>
<p>
    Требования к параллелизму зависят от следующих факторов:
</p>
<ul>
    <li>
        <b>Необходимая степень распределенности системы.</b> Системе, поведение которой должно быть распределено среди
        процессоров или узлов, фактически требуется мультипроцессная архитектура. Система, использующая какую-либо
        разновидность Системы управления базой данных или Администратора транзакций, должна также учитывать процессы,
        вводимые этими основными подсистемами.
    </li>
    <li>
        <b>Вычислительная интенсивность основных алгоритмов.</b> Для обеспечения приемлемого времени ответа может
        потребоваться выделить вычислительно интенсивные операции в отдельный процесс или нить. В этом случае, во время
        выполнения таких вычислений система по-прежнему сможет отвечать на действия пользователей, хотя и с меньшими
        ресурсами.
    </li>
    <li>
        <b>Степень параллелизма выполнения, поддерживаемая средой.</b> Если операционная система или среда не поддерживает
        нити (упрощенные процессы), то изучать их влияние на архитектуру системы бессмысленно.
    </li>
    <li>
        <b>Необходимость в устойчивости к сбоям в системе.</b> Резервные процессоры требуют резервных процессов, что
        вызывает необходимость в синхронизации основных и резервных процессов.
    </li>
    <li>
        <b>Шаблон поступления событий в системе.</b> В системах с внешними устройствами или датчиками шаблоны поступления
        входящих событий могут отличаться в зависимости от датчика. Некоторые события могут быть периодическими (т.е.
        происходить более-менее регулярно), другие - нет (т.е. происходить в произвольные моменты). Активные классы,
        представляющие устройства, генерирующие различные шаблоны событий, обычно назначаются различным нитям операционной
        системы с различными алгоритмами планирования, во избежание пропуска событий или контрольных сроков окончания
        обработки (если такой пропуск считается недопустимым в системе). Сказанное в равной степени относится и к капсулам,
        если они используются в проектировании систем, работающих в режиме реального времени.
    </li>
</ul>
<p>
    Как это часто бывает в вопросах архитектуры, эти требования могут в некоторой степени исключать друг друга. Нет ничего
    необычного в том, чтобы, во всяком случае поначалу, эти требования конфликтовали. Расстановка требований по важности
    поможет устранить конфликт.
</p></td>
</tr>
</table>
</div>
<div class="stepHeading"> Определите процессы и нити </div>
<div class="stepContent">
<table cellpadding="0" cellspacing="0" border="0" class="stepTable">
<tr valign="top">
<td><a id="IdentifyProcessesAndThreads" name="IdentifyProcessesAndThreads"></a>
<div align="left">
    <table border="1" width="100%" cellspacing="0" cellpadding="4" style="border: 1px solid rgb(128,128,128)"     bordercolorlight="#808080" bordercolordark="#808080">
        <tr>
            <td width="5%">
                <b>Цель&nbsp;</b>
            </td>
            <td width="95%">
                Определить процессы и нити, которые будут существовать в системе. &nbsp;
            </td>
        </tr>
    </table><br />
    Простейший подход заключается в том, чтобы выделить все активные объекты общей нити или процессу и воспользоваться
    простым планировщиком активных объектов, поскольку это минимизирует нагрузку, связанную с переключением контекста.
    Однако, в некоторых случаях, может потребоваться распределить активные объекты по нескольким нитям или процессам.
    Именно так обычно бывает в большинстве систем, работающих в режиме реального времени, когда к капсулам, представляющим
    логические нити, предъявляются жесткие требования по времени.
</div>
<p>
    Если активный объект, использующий нить операционной системы совместно с другими активными объектами, отправляет
    синхронный вызов другому процессу или нити, и этот вызов блокирует общую нить операционной системы вызывающего объекта,
    то работа всех остальных активных объектов, находящихся в вызывающем процессе, будет автоматически приостановлена.
    Однако это недопустимо: вызов, синхронный с точки зрения активного объекта, может обрабатываться асинхронно с точки
    зрения простого планировщика, управляющего группой активных объектов, - планировщик приостанавливает работу активного
    объекта, отправляющего вызов (в ожидании выполнения его синхронного вызова), а затем планирует запуск других активных
    объектов. &nbsp;
</p>
<p>
    По окончании исходной 'синхронной' операции можно возобновить работу вызывающего активного объекта. Однако такой подход
    неуниверсален, поскольку не всегда возможно спроектировать планировщик таким образом, чтобы он перехватывал все
    синхронные вызовы, прежде чем они приведут к блокировке. Учтите, что синхронный вызов активных объектов, использующих
    один и тот же процесс или нить операционной системы, может, в общем случае, обрабатываться планировщиком указанным
    способом. Фактически, это эквивалентно вызову процедуры, с точки зрения вызывающего активного объекта.
</p>
<p>
    Сказанное позволяет сделать вывод о том, что активные объекты должны быть сгруппированы в процессы или нити в
    зависимости от того, насколько необходимо их параллельное выполнение одновременно с синхронными вызовами, блокирующими
    нить. Таким образом, единственный случай, когда активный объект должен быть упакован в том же процессе или нити с
    другим объектом, использующим синхронные вызовы, блокирующие нить, - это когда ему не требуется выполняться
    одновременно с этим объектом и блокировка другого объекта не влияет на его выполнение. В исключительном случае, когда
    важнее всего время реакции системы, может потребоваться создание отдельной нити или процесса для каждого активного
    объекта.
</p>
<p class="reactive">
    Для систем, работающих в режиме реального времени, основанные на сообщениях интерфейсы капсул означают, что проще
    работать с планировщиком, гарантирующим, по крайней мере для межкапсульной связи, что нити поддерживающей операционной
    системы никогда не блокируются, даже если капсула синхронно контактирует с другой капсулой. Однако капсула по-прежнему
    может выдать запрос напрямую операционной системе, например, на синхронное ожидание, который приведет к блокировке
    нити. Необходимо выработать соглашения для служб низшего уровня, запускаемых капсулами, которые позволят избежать
    такого поведения, если капсулы будут использовать общую нить (и простой планировщик для имитации параллелизма).
</p>
<p>
    Общее правило: в вышеуказанных ситуациях лучше применять упрощенные нити вместо полноценных процессов, поскольку это
    снижает нагрузку. Однако в некоторых особых случаях все же может понадобиться воспользоваться специальными
    характеристиками процессов. Поскольку нити совместно используют одно и то же адресное пространство, их применение
    изначально более рискованно по сравнению с процессами. Если необходимо считаться с вероятностью случайной перезаписи,
    то лучше воспользоваться процессами. Более того, поскольку процессы представляют собой независимые единицы
    восстановления в большинстве операционных систем, может быть полезно выделять активные объекты процессам в зависимости
    от их потребности в независимом восстановлении. Иными словами, все активные объекты, которые необходимо восстанавливать
    как единое целое, можно упаковать в один процесс.
</p>
<p>
    Создайте процесс или нить (упрощенный процесс) для каждого отдельного управляющего потока, необходимого системе. Нить
    следует применять, когда необходим вложенный управляющий поток (т.е. когда внутри процесса необходим независимый
    управляющий поток на уровне подзадач).
</p>
<p>
    Например, отдельные управляющие нити могут потребоваться для выполнения следующих задач:
</p>
<ul>
    <li>
        Разделить вопросы между различными областями программного обеспечения
    </li>
    <li>
        Воспользоваться несколькими CPU на одном или нескольких узлах в распределенной системе
    </li>
    <li>
        Повысить коэффициент использования CPU путем выделения циклов другим операциям при приостановке управляющей нити
    </li>
    <li>
        Расставить операции по приоритетам
    </li>
    <li>
        Поддержать разделение нагрузки между несколькими процессами и процессорами
    </li>
    <li>
        Повысить готовность системы за счет наличия резервных процессов
    </li>
    <li>
        Поддержать DBMS, Администратор транзакций или другие основные подсистемы.
    </li>
</ul>
<p class="exampleheading">
    Пример
</p>
<p class="example">
    Банкомат должен обрабатывать асинхронные события, поступающие из трех различных источников: пользователя системы,
    устройств банкомата (в случае сбоя в раздатчике денег, например) и сети банкомата (в случае директивы на завершение
    работы, поступившей из сети). Для обработки этих асинхронных событий можно определить три отдельных нити выполнения в
    самом банкомате с помощью активных классов языка UML, как показано ниже.
</p>
<p align="center">
    <img src="./../../core.base_rup/tasks/resources/proc1.gif" alt="Иллюстрация процессов и нитей банкомата" width="250" height="362" />
</p>
<p class="picturetext">
    Процессы и нити в банкомате
</p></td>
</tr>
</table>
</div>
<div class="stepHeading"> Определите жизненные циклы процессов </div>
<div class="stepContent">
<table cellpadding="0" cellspacing="0" border="0" class="stepTable">
<tr valign="top">
<td><a id="XE_process__identifying_process_lifecycles" name="XE_process__identifying_process_lifecycles"></a><a id="Identify Process Lifecycles" name="Identify Process Lifecycles"></a>
<div align="left">
    <table border="1" width="100%" cellspacing="0" cellpadding="4" style="border: 1px solid rgb(128,128,128)"     bordercolorlight="#808080" bordercolordark="#808080">
        <tr>
            <td width="5%">
                <b>Цель&nbsp;</b>
            </td>
            <td width="95%">
                Определить, когда должны создаваться и уничтожаться процессы и нити. &nbsp;
            </td>
        </tr>
    </table><br />
</div>
<p>
    Каждый управляющий процесс или нить должны быть созданы и уничтожены. В однопроцессной архитектуре процесс создается
    при запуске приложения и уничтожается при завершении работы приложения. В мультипроцессных архитектурах новые процессы
    (или нити) обычно порождаются или ответвляются от начального процесса, создаваемого операционной системой при запуске
    приложения. Эти процессы также должны быть явно уничтожены.
</p>
<p>
    Последовательность событий, приводящая к созданию и уничтожению процесса, должна быть определена и задокументирована,
    как и механизм создания и удаления.
</p>
<p class="exampleheading">
    Пример
</p>
<p class="example">
    В банкомате запускается один главный процесс, отвечающий за координирование поведения всей системы. Он, в свою очередь,
    порождает подчиненные управляющие нити, отслеживающие различные части системы: системные устройства и события,
    поступающие от клиента и из сети банкомата. Создание этих процессов и нитей моделируется с помощью <b>активных
    классов</b> в UML, и создание экземпляров этих активных классов может быть продемонстрировано на диаграмме
    последовательности, как показано ниже:
</p>
<p align="center">
    <img src="./../../core.base_rup/tasks/resources/proc2.gif" alt="Иллюстрация создания начальных процессов и нитей системы" width="607"     height="350" />
</p>
<p class="picturetext">
    Создание процессов и нитей во время инициализации системы
</p></td>
</tr>
</table>
</div>
<div class="stepHeading"> Определите механизмы межпроцессной связи </div>
<div class="stepContent">
<table cellpadding="0" cellspacing="0" border="0" class="stepTable">
<tr valign="top">
<td><a id="XE_process__identifying_communication_mechanisms" name="XE_process__identifying_communication_mechanisms"></a><a id="Identify Inter-Process Communication Mechanisms" name="Identify Inter-Process Communication Mechanisms"></a>
<div align="left">
    <table border="1" width="100%" cellspacing="0" cellpadding="4" style="border: 1px solid rgb(128,128,128)"     bordercolorlight="#808080" bordercolordark="#808080">
        <tr>
            <td width="5%">
                <b>Цель&nbsp;</b>
            </td>
            <td width="95%">
                Определить средства для связи между процессами и нитями. &nbsp;
            </td>
        </tr>
    </table><br />
</div>
<p>
    Механизмы межпроцессной связи (IPC) позволяют рассылать сообщения между объектами, работающими в отдельных процессах.
</p>
<p>
    Ниже перечислены типичные механизмы межпроцессной связи:
</p>
<ul>
    <li>
        <b>Общая память</b>, с семафорами или без них для обеспечения синхронизации
    </li>
    <li>
        <b>Рандеву</b>, особенно при наличии прямой поддержки, как в языке Ада
    </li>
    <li>
        <b>Семафоры</b>, применяемые для блокировки одновременного доступа к общим ресурсам
    </li>
    <li>
        <b>Передача сообщений</b>, как типа "точка-точка", так и типа "точка - несколько точек"
    </li>
    <li>
        <b>Почтовые ящики</b>
    </li>
    <li>
        <b>RPC</b> - Вызов удаленных процедур
    </li>
    <li>
        <b>Рассылка сообщений</b> - с использованием "шины программного обеспечения" ("архитектура шины сообщений")
    </li>
</ul>
<p>
    Выбор механизма IPC изменит способ моделирования системы; в "архитектуре шины сообщений", например, для отправки
    сообщений не нужны явные ассоциации между объектами.
</p></td>
</tr>
</table>
</div>
<div class="stepHeading"> Выделить ресурсы для межпроцессного координирования </div>
<div class="stepContent">
<table cellpadding="0" cellspacing="0" border="0" class="stepTable">
<tr valign="top">
<td><a id="Allocate Inter-Process Coordination Resources" name="Allocate Inter-Process Coordination Resources"></a>
<div align="left">
    <table border="1" width="100%" cellspacing="0" cellpadding="4" style="border: 1px solid rgb(128,128,128)"     bordercolorlight="#808080" bordercolordark="#808080">
        <tr>
            <td width="5%">
                <b>Цель</b>
            </td>
            <td width="95%">
                Выделить дефицитные ресурсы<br />
                Предугадать и предотвратить возможные "узкие места" производительности&nbsp;
            </td>
        </tr>
    </table><br />
</div>
<p>
    Механизмы межпроцессной связи обычно дефицитны. Семафоры, общая память и почтовые ящики, как правило, имеют
    фиксированный размер или емкость и не могут быть увеличены без значительных затрат. RPC, сообщения и рассылки событий
    поглощают все большую часть дефицитной пропускной способности сети. Когда система превышает порог использования
    ресурсов, ее производительность падает нелинейно: если дефицитный ресурс уже использован, то последующие запросы на
    него, скорее всего, вызовут нежелательный эффект.
</p>
<p>
    При нехватке дефицитных ресурсов можно порекомендовать следующие меры:
</p>
<ul>
    <li>
        снижение потребности в дефицитном ресурсе путем сокращения числа процессов
    </li>
    <li>
        изменение использование дефицитных ресурсов (для одного или нескольких процессов выберите другой, менее дефицитный
        ресурс в механизме IPC)
    </li>
    <li>
        увеличение объема дефицитного ресурса (например, увеличение количества семафоров). Это можно сделать путем
        незначительных изменений, но при этом часто приходится сталкиваться с побочными эффектами или фиксированными
        ограничениями.
    </li>
    <li>
        совместное использование дефицитного ресурса (например, выделение ресурса только на тот период, когда он
        действительно необходим, и немедленное его высвобождение, когда необходимость в нем отпадает). Это дорого и может
        лишь отсрочить кризис.
    </li>
</ul>
<p>
    Независимо от выбранной стратегии, производительность системы должна снижаться постепенно (а не скачком), причем
    система должна предоставлять адекватную обратную связь системному администратору, чтобы он мог исправить ситуацию (если
    это возможно) на месте после развертывания системы.
</p>
<p>
    Если система требует специальной настройки среды выполнения для повышения готовности критического ресурса (часто для
    этого требуется перенастройка ядра операционной системы), то процедура установки системы должна либо делать это
    автоматически, либо инструктировать системного администратора о том, как это сделать до начала работы с системой.
    Например, может потребоваться перезагрузить систему, чтобы изменения вступили в силу.
</p></td>
</tr>
</table>
</div>
<div class="stepHeading"> Отобразите процессы в среду реализации </div>
<div class="stepContent">
<table cellpadding="0" cellspacing="0" border="0" class="stepTable">
<tr valign="top">
<td><a id="XE_process__map_process_onto_implementation_environment" name="XE_process__map_process_onto_implementation_environment"></a><a id="Map Processes onto the Implementation Environment" name="Map Processes onto the Implementation Environment"></a>
<div align="left">
    <table border="1" width="100%" cellspacing="0" cellpadding="4" style="border: 1px solid rgb(128,128,128)"     bordercolorlight="#808080" bordercolordark="#808080">
        <tr>
            <td width="5%">
                <b>Цель</b>&nbsp;
            </td>
            <td width="95%">
                Отобразить "управляющие потоки" в концепции, поддерживаемые средой реализации. &nbsp;
            </td>
        </tr>
    </table><br />
</div>
<p>
    Концептуальные процессы должны быть отображены в конкретные конструкции операционной среды. Во многих средах можно
    выбрать тип обработки; по крайней мере, всегда доступны процессы и нити. Выбор будет зависеть от степени сцепленности
    (процессы автономны, в то время как нити работают в контексте вмещающего их процесса) и требований к производительности
    системы (межпроцессная связь между нитями обычно быстрее и эффективнее, чем между процессами).
</p>
<p>
    Во многих системах число нитей на процесс или процессов на узел ограничено. Эти предельные значения могут быть не
    абсолютными, а практическими, связанными с ограниченной доступностью дефицитных ресурсов. Нити и процессы, уже
    выполняющиеся на целевом узле, следует учитывать вместе с нитями и процессами, предполагаемыми в архитектуре процессов.
    При создании отображения необходимо учитывать результаты предыдущего шага, Выделить <a href="#Allocate Inter-Process Coordination Resources">ресурсы межпроцессной связи</a>, во избежание появления
    новой проблемы производительности.
</p></td>
</tr>
</table>
</div>
<div class="stepHeading"> Отобразите элементы проектирования в управляющие нити </div>
<div class="stepContent">
<table cellpadding="0" cellspacing="0" border="0" class="stepTable">
<tr valign="top">
<td><a id="XE_process__map_design_elements_to" name="XE_process__map_design_elements_to"></a><a id="Map Design Elements To Threads of Control" name="Map Design Elements To Threads of Control"></a>
<div align="left">
    <table border="1" width="100%" cellspacing="0" cellpadding="4" style="border: 1px solid rgb(128,128,128)"     bordercolorlight="#808080" bordercolordark="#808080">
        <tr>
            <td width="5%">
                <b>Цель</b>&nbsp;
            </td>
            <td width="95%">
                Определить, в каких управляющих нитях должны выполняться классы и подсистемы. &nbsp;
            </td>
        </tr>
    </table><br />
</div>
<p>
    Экземпляры заданного класса или подсистемы должны выполняться по крайней мере в <b>одной</b> управляющей нити,
    предоставляющей среду выполнения для класса или подсистемы; они могут выполняться и в нескольких различных процессах.
</p>
<p>
    Используя две различные стратегии одновременно, мы определим "правильную" долю параллелизма и "правильный" набор
    процессов:
</p>
<h4>
    Изнутри наружу
</h4>
<ol>
    <li>
        Начиная с Модели проектирования, сгруппируйте классы и подсистемы в наборы взаимодействующих элементов, которые (a)
        тесно сотрудничают друг с другом и (b) должны выполняться в одной и той же управляющей нити. Учтите влияние,
        которое окажет введение межпроцессной связи в середину последовательности сообщений, прежде чем разделять элементы
        на отдельные управляющие нити.
    </li>
    <li>
        Наоборот, разделите классы и подсистемы, которые вообще не взаимодействуют, разместив их в разных управляющих
        нитях.
    </li>
    <li>
        Такая кластеризация будет продолжаться до тех пор, пока число процессов не сократится до наименьшего числа,
        по-прежнему допускающего распределение и использование физических ресурсов.
    </li>
</ol>
<h4>
    Снаружи внутрь
</h4>
<ol>
    <li>
        Определите внешние явления, на которые должна реагировать система. Определите отдельную управляющую нить для
        обработки каждого такого явления и отдельную управляющую нить сервера для предоставления каждой службы.
    </li>
    <li>
        Руководствуясь ограничениями, связанными с целостностью данных и сериализацией, сократите этот начальный набор
        управляющих нитей до значения, которое может поддерживаться средой выполнения.
    </li>
</ol>
<p>
    Это отнюдь не прямой детерминированный процесс, ведущий к оптимальному варианту; для достижения приемлемого компромисса
    потребуется сделать несколько итераций.
</p>
<p class="exampleheading">
    Пример
</p>
<p class="example">
    Распределение классов банкомата среди процессов и нитей системы иллюстрирует следующая диаграмма.
</p>
<p align="center">
    <img src="./../../core.base_rup/tasks/resources/proc3.gif" alt="Иллюстрация распределения классов банкомата среди процессов и нитей" width="574"     height="403" />
</p>
<p class="picturetext">
    Отображение классов в процессы в банкомате
</p><br />
<br /></td>
</tr>
</table>
</div>
</td>
</tr>
</table>
</div>
<div class="sectionHeading">Дополнительные сведения</div>
<div class="sectionContent">
<table cellpadding="0" cellspacing="0" border="0" class="sectionTable">
<tr valign="top">
<th scope="row" class="sectionTableHeading">Концепции</th><td class="sectionTableCell">
<ul>
<li>
<a href="./../../core.base_rup/guidances/concepts/concurrency_EE2E011A.html" guid="3.5787175388799096E-305">Параллелизм</a>
</li>
</ul>
</td>
</tr>
<tr valign="top">
<th scope="row" class="sectionTableHeading">Рекомендации</th><td class="sectionTableCell">
<ul>
<li>
<a href="./../../core.base_rup/guidances/guidelines/concurrency_3E796647.html" guid="1.5676516174458592E-304">Параллелизм</a>
</li>
</ul>
</td>
</tr>
<tr valign="top">
<th scope="row" class="sectionTableHeading">Руководства по инструментам</th><td class="sectionTableCell">
<ul>
<li>
<a href="./../../core.base_rup/guidances/toolmentors/document_process_view_6026C17A.html" guid="{059DD277-2FC8-4977-836A-2EDAF219655F}">Документирование панели Процесс с помощью Rational Rose</a>
</li>
<li>
<a href="./../../core.base_rup/guidances/toolmentors/describing_run_time_architecture_FCB465D9.html" guid="{C58782ED-003F-4E87-9A50-D01DDBE4A5AF}">Описание архитектуры выполнения с помощью Rational XDE Developer</a>
</li>
<li>
<a href="./../../core.base_rup/guidances/toolmentors/capturing_a_concurrency_architecture_FC0B08DB.html" guid="{693A3653-B92C-4342-B427-2BEA239BA15F}">Фиксация архитектуры параллелизма с помощью Rational Rose RealTime</a>
</li>
</ul>
</td>
</tr>
</table>
</div>
<table cellpadding="0" cellspacing="0" border="0" class="copyright">
<tr>
<td class="copyright"><p>
    &copy; &nbsp;Copyright IBM Corp.&nbsp;1987, 2006. &nbsp;Все права защищены..
</p></td>
</tr>
</table>
</td>
</tr>
</table>
</body>
<script language="JavaScript" type="text/javascript">
				contentPage.onload();
			</script>
</html>
